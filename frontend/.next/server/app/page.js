(()=>{var e={};e.id=974,e.ids=[974],e.modules={126:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eS});var a=t(8625),r=t(4996),i=t(5918),n=t(5136);function l({currentData:e,totalData:s,unit:t}){let r=e/s*100,i=2*Math.PI*45,n=i-r/100*i;return(0,a.jsxs)("div",{className:"relative w-48 h-48 mx-auto",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-muted opacity-20"}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:i,strokeDashoffset:n,className:"text-primary transition-all duration-1000 ease-out",style:{filter:"drop-shadow(0 0 8px #00CFE8)"}})]}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-foreground",children:e.toFixed(1)}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["of ",s," ",t]}),(0,a.jsxs)("div",{className:"text-xs text-primary mt-1",children:[r.toFixed(0),"% used"]})]})]})}var d=t(3922);let o=(0,d.A)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),c=(0,d.A)("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var m=t(4714),u=t(6761);let x=(0,m.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border"}},defaultVariants:{variant:"default"}});function h({className:e,variant:s,...t}){return(0,a.jsx)("div",{className:(0,u.cn)(x({variant:s}),e),...t})}function p({isConnected:e,networkName:s}){return(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-card border",children:[e?(0,a.jsx)(o,{className:"w-5 h-5 text-primary"}):(0,a.jsx)(c,{className:"w-5 h-5 text-muted-foreground"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:e?"Connected to WiFi":"No WiFi Connection"}),s&&(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:s})]}),(0,a.jsx)(h,{variant:e?"default":"secondary",children:e?"Online":"Offline"})]})}function f({icon:e,label:s,description:t,onClick:r,disabled:n=!1,variant:l="default"}){return(0,a.jsxs)(i.$,{onClick:r,disabled:n,variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2 text-left bg-card border-border text-foreground hover:bg-muted/50 transition-colors",children:[(0,a.jsx)(e,{className:"w-8 h-8"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"font-semibold",children:s}),(0,a.jsx)("div",{className:"text-xs opacity-80",children:t})]})]})}let g=(0,d.A)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),y=(0,d.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function j({size:e,date:s,used:t,status:r}){return(0,a.jsx)(n.Zp,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g,{className:"w-4 h-4 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:e}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(y,{className:"w-3 h-3"}),s]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Used: ",t]}),(0,a.jsx)("div",{className:`text-xs capitalize ${{completed:"text-muted-foreground",active:"text-primary",expired:"text-destructive"}[r]}`,children:r})]})]})})}var b=t(1802);let w=(0,d.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var v=t(5818);function N({type:e,title:s,message:t,isVisible:r,onClose:n,autoClose:l=!0,duration:d=3e3}){return r?(0,a.jsx)("div",{className:"fixed top-4 left-4 right-4 z-50 animate-in slide-in-from-top-2",children:(0,a.jsx)("div",{className:`p-4 rounded-lg border backdrop-blur-sm ${(()=>{switch(e){case"success":return"bg-green-900/20 border-green-500/30";case"warning":return"bg-yellow-900/20 border-yellow-500/30";case"info":return"bg-blue-900/20 border-blue-500/30"}})()}`,children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(()=>{switch(e){case"success":return(0,a.jsx)(b.A,{className:"w-5 h-5 text-green-400"});case"warning":return(0,a.jsx)(w,{className:"w-5 h-5 text-yellow-400"});case"info":return(0,a.jsx)(o,{className:"w-5 h-5 text-blue-400"})}})(),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-foreground",children:s}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:n,className:"h-6 w-6 p-0",children:(0,a.jsx)(v.A,{className:"w-3 h-3"})})]})})}):null}var k=t(2494);let S=(0,d.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function _({onSelect:e,onCancel:s}){let[t,l]=(0,r.useState)(null);return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-sm bg-background rounded-lg p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Buy Data Credits"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Buy data credits to use later with eSIM"})]}),(0,a.jsx)("div",{className:"space-y-3",children:[{size:"1GB",price:"₦500",price_ngn:500,validity:"30 days"},{size:"5GB",price:"₦2,000",price_ngn:2e3,validity:"30 days",popular:!0},{size:"10GB",price:"₦3,500",price_ngn:3500,validity:"30 days"},{size:"20GB",price:"₦6,000",price_ngn:6e3,validity:"30 days"},{size:"Unlimited",price:"₦800",price_ngn:800,validity:"7 days",isUnlimited:!0,plan_type:"unlimited",popular:!0}].map(e=>(0,a.jsxs)(n.Zp,{className:`p-4 cursor-pointer transition-all relative ${t?.size===e.size?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>l(e),children:[e.popular&&(0,a.jsx)("div",{className:"absolute -top-2 left-4 bg-primary text-primary-foreground text-xs px-2 py-1 rounded",children:"Popular"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-foreground",children:[e.size,e.isUnlimited&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"UNLIMITED"})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.price," • Valid for ",e.validity]})]}),t?.size===e.size&&(0,a.jsx)(k.A,{className:"w-5 h-5 text-primary"})]})]},e.size))}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:s,className:"flex-1 bg-transparent",children:"Cancel"}),(0,a.jsxs)(i.$,{onClick:()=>t&&e(t),disabled:!t,className:"flex-1 bg-primary text-primary-foreground hover:bg-primary/90",children:[(0,a.jsx)(S,{className:"w-4 h-4 mr-2"}),"Buy Credits"]})]})]})})}var C=t(5413),A="Progress",[M,$]=function(e,s=[]){let t=[],i=()=>{let s=t.map(e=>r.createContext(e));return function(t){let a=t?.[e]||s;return r.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return i.scopeName=e,[function(s,i){let n=r.createContext(i),l=t.length;t=[...t,i];let d=s=>{let{scope:t,children:i,...d}=s,o=t?.[e]?.[l]||n,c=r.useMemo(()=>d,Object.values(d));return(0,a.jsx)(o.Provider,{value:c,children:i})};return d.displayName=s+"Provider",[d,function(t,a){let d=a?.[e]?.[l]||n,o=r.useContext(d);if(o)return o;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${s}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((s,{useScope:t,scopeName:a})=>{let r=t(e)[`__scope${a}`];return{...s,...r}},{});return r.useMemo(()=>({[`__scope${s.scopeName}`]:a}),[a])}};return t.scopeName=s.scopeName,t}(i,...s)]}(A),[P,R]=M(A),q=r.forwardRef((e,s)=>{let{__scopeProgress:t,value:r=null,max:i,getValueLabel:n=I,...l}=e;(i||0===i)&&E(i);let d=E(i)?i:100;null!==r&&W(r,d);let o=W(r,d)?r:null,c=F(o)?n(o,d):void 0;return(0,a.jsx)(P,{scope:t,value:o,max:d,children:(0,a.jsx)(C.sG.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":F(o)?o:void 0,"aria-valuetext":c,role:"progressbar","data-state":D(o,d),"data-value":o??void 0,"data-max":d,...l,ref:s})})});q.displayName=A;var z="ProgressIndicator",B=r.forwardRef((e,s)=>{let{__scopeProgress:t,...r}=e,i=R(z,t);return(0,a.jsx)(C.sG.div,{"data-state":D(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:s})});function I(e,s){return`${Math.round(e/s*100)}%`}function D(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function F(e){return"number"==typeof e}function E(e){return F(e)&&!isNaN(e)&&e>0}function W(e,s){return F(e)&&!isNaN(e)&&e<=s&&e>=0}B.displayName=z;let O=r.forwardRef(({className:e,value:s,...t},r)=>(0,a.jsx)(q,{ref:r,className:(0,u.cn)("relative h-2 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:(0,a.jsx)(B,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));O.displayName=q.displayName;var T=t(3161);let U="https://test-backend.com";if(!U)throw Error("Missing required environment variable: NEXT_PUBLIC_BACKEND_URL\nPlease set this to your FastAPI backend URL in production.");class L{async getCurrentUserId(){let{data:{session:e},error:s}=await T.N.auth.getSession();if(s)throw s;if(!e?.user)throw Error("No user logged in");return e.user.id}async getAuthToken(){let{data:{session:e},error:s}=await T.N.auth.getSession();if(s)throw s;if(!e?.access_token)throw Error("No auth token available");return e.access_token}async makeBackendRequest(e,s={}){try{let t=await this.getAuthToken(),a=await fetch(`${U}/api${e}`,{...s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,...s.headers}});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.detail||`HTTP ${a.status}: ${a.statusText}`)}return await a.json()}catch(e){throw e}}async signup(e){let{data:s,error:t}=await T.N.auth.signUp({email:e.email,password:e.password,options:{data:{first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number}}});if(t)throw t;if(s.user){let{error:t}=await T.N.from("users").insert({id:s.user.id,email:e.email,first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number,status:"active",is_admin:!1});if(t)throw t;try{await fetch(`${U}/api/auth/webhook/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:s.user.id})})}catch(e){}}return{access_token:s.session?.access_token||"",token_type:"bearer",expires_in:s.session?.expires_in||3600,user:{id:s.user?.id||"",email:e.email,first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number,status:"active",is_admin:!1,created_at:new Date().toISOString()}}}async login(e,s){let{data:t,error:a}=await T.N.auth.signInWithPassword({email:e,password:s});if(a)throw a;if(t.user)try{await fetch(`${U}/api/auth/webhook/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.user.id})})}catch(e){}let{data:r,error:i}=await T.N.from("users").select("*").eq("id",t.user?.id).single();if(i)throw i;return{access_token:t.session?.access_token||"",token_type:"bearer",expires_in:t.session?.expires_in||3600,user:r}}async logout(){let{error:e}=await T.N.auth.signOut();if(e)throw e}async getCurrentUser(){let{data:{session:e},error:s}=await T.N.auth.getSession();if(s)throw s;if(!e?.user)throw Error("No user logged in");let{data:t,error:a}=await T.N.from("users").select("*").eq("id",e.user.id).single();if(a)throw a;return t}async refreshToken(){let{data:e,error:s}=await T.N.auth.refreshSession();if(s)throw s;let{data:t,error:a}=await T.N.from("users").select("*").eq("id",e.user?.id).single();if(a)throw a;return{access_token:e.session?.access_token||"",token_type:"bearer",expires_in:e.session?.expires_in||3600,user:t}}async getAvailableSessions(){return await this.makeBackendRequest("/sessions/available")}async startSessionDownload(e,s){return await this.makeBackendRequest("/sessions/download",{method:"POST",body:JSON.stringify({session_id:e,esim_id:s})})}async activateSession(e){return await this.makeBackendRequest("/sessions/activate",{method:"POST",body:JSON.stringify({session_id:e})})}async getMySessions(){return await this.makeBackendRequest("/sessions/my-sessions")}async getSessionStatus(e){return await this.makeBackendRequest(`/sessions/${e}/status`)}async trackSessionUsage(e,s){return await this.makeBackendRequest("/sessions/track-usage",{method:"POST",body:JSON.stringify({session_id:e,data_used_mb:s})})}async getFreeQuotaUsage(){return await this.makeBackendRequest("/sessions/quota/free")}async getDataPacks(e){let s=await this.getCurrentUserId();return(await this.makeBackendRequest(`/bundles/user/${s}/packs${e?`?status=${e}`:""}`)).packs}async getAvailableBundles(){return await this.makeBackendRequest("/bundles/available")}async calculateBundlePrice(e,s=30){return await this.makeBackendRequest(`/bundles/calculate-price?data_mb=${e}&validity_days=${s}`,{method:"POST"})}async createDataPack(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/bundles/create",{method:"POST",body:JSON.stringify({user_id:s,...e})})}async recordDataUsage(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/bundles/usage/update",{method:"POST",body:JSON.stringify({user_id:s,...e})})}async getDataPackStats(){let e=await this.getCurrentUserId();return await this.makeBackendRequest(`/bundles/user/${e}/summary`)}async getESIMs(){let e=await this.getCurrentUserId();return(await this.makeBackendRequest(`/esim/user/${e}`)).esims}async provisionESIM(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/esim/provision",{method:"POST",body:JSON.stringify({user_id:s,bundle_size_mb:e})})}async getESIMQRCode(e){return await this.makeBackendRequest(`/esim/${e}/qr-code`)}async activateESIM(e){return await this.makeBackendRequest(`/esim/${e}/activate`,{method:"POST"})}async suspendESIM(e){return await this.makeBackendRequest(`/esim/${e}/suspend`,{method:"POST"})}async getESIMUsage(e){return await this.makeBackendRequest(`/esim/${e}/usage`)}async getESIMStatus(e){return await this.makeBackendRequest(`/esim/${e}/status`)}async getNotifications(e=50,s=!1){let t=await this.getCurrentUserId();return await this.makeBackendRequest(`/notifications/user/${t}?limit=${e}&unread_only=${s}`)}async markNotificationRead(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/notifications/mark-read",{method:"POST",body:JSON.stringify({notification_id:e,user_id:s})})}async markAllNotificationsRead(){let e=await this.getCurrentUserId();return await this.makeBackendRequest(`/notifications/user/${e}/mark-all-read`,{method:"POST"})}async getUnreadNotificationCount(){let e=await this.getCurrentUserId();return await this.makeBackendRequest(`/notifications/user/${e}/unread-count`)}async registerDevice(e,s){let t=await this.getCurrentUserId();return await this.makeBackendRequest("/auth/device/register",{method:"POST",body:JSON.stringify({user_id:t,push_token:e,device_type:s})})}async getMonitoringStats(){return await this.makeBackendRequest("/monitoring/stats")}async healthCheck(){try{let e=await T.N.from("users").select("id").limit(1),s=await this.makeBackendRequest("/monitoring/health");return{status:"healthy",service:"KSWiFi App (Hybrid)",supabase:e.error?"unhealthy":"healthy",backend:s.status||"healthy"}}catch(e){return{status:"unhealthy",service:"KSWiFi App (Hybrid)",error:e instanceof Error?e.message:"Unknown error"}}}}let Z=new L;var J=t(2647);let G=(0,d.A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),H=(0,d.A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),V=(0,d.A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),K=(0,d.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Q=(0,d.A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Y=(0,d.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),X=(0,d.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function ee({onSessionDownload:e}){let[s,t]=(0,r.useState)([]),[l,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(0),[p,f]=(0,r.useState)(null),[g,y]=(0,r.useState)(null),[j,w]=(0,r.useState)(!0),v=async s=>{if(!c)try{m(!0),f(s),x(0);let t=await Z.startSessionDownload(s);if(t.success)J.oR.success("Session download started!"),e(s),N(t.data.session_id);else throw Error(t.message||"Download failed")}catch(e){J.oR.error(e.message||"Failed to start session download"),m(!1),f(null)}},N=e=>{let s=0,t=setInterval(async()=>{if((s+=15*Math.random()+5)>=100){s=100,clearInterval(t),m(!1),f(null),x(0);try{let s=await Z.getSessionStatus(e);"stored"===s.data.status&&J.oR.success("Internet session downloaded successfully!",{description:"You can now activate it for offline use"})}catch(e){}}else x(s)},800)},k=e=>e.is_free?(0,a.jsx)(G,{className:"h-5 w-5 text-green-500"}):e.is_unlimited?(0,a.jsx)(H,{className:"h-5 w-5 text-kswifi-cyan"}):(0,a.jsx)(S,{className:"h-5 w-5 text-blue-500"}),_=e=>e.is_free?"FREE":`₦${e.price_ngn.toLocaleString()}`,C=e=>7===e?"1 week":30===e?"1 month":`${e} days`;return j?(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{className:"text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,a.jsx)(o,{className:"h-6 w-6 text-kswifi-cyan animate-pulse"}),(0,a.jsx)(n.ZB,{className:"text-xl font-semibold text-foreground",children:"Loading Sessions..."})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-24 bg-muted animate-pulse rounded-lg"},e))})})]}):(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,a.jsx)(o,{className:"h-6 w-6 text-kswifi-cyan"}),(0,a.jsx)(n.ZB,{className:"text-xl font-semibold text-foreground",children:"Download Internet Sessions"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Download internet sessions on WiFi to use later offline via eSIM"}),g&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Free Quota This Month"}),(0,a.jsxs)("span",{className:"font-medium text-foreground",children:[(g.used_mb/1024).toFixed(1),"GB / ",(g.limit_mb/1024).toFixed(0),"GB"]})]}),(0,a.jsx)(O,{value:g.percentage_used,className:"mt-2 h-2"})]})]}),(0,a.jsxs)(n.Wu,{children:[c&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-kswifi-cyan/10 border border-kswifi-cyan/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,a.jsx)(S,{className:"h-5 w-5 text-kswifi-cyan animate-bounce"}),(0,a.jsx)("span",{className:"font-medium text-foreground",children:"Downloading Internet Session..."})]}),(0,a.jsx)(O,{value:u,className:"h-3 mb-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"Transferring to eSIM storage"}),(0,a.jsxs)("span",{children:[Math.round(u),"% complete"]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsx)(n.Zp,{className:`transition-all duration-200 hover:shadow-md border ${e.is_free?"border-green-500/30 bg-green-500/5":e.is_unlimited?"border-kswifi-cyan/30 bg-kswifi-cyan/5":"border-border bg-card"}`,children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:k(e)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground text-lg",children:e.size}),e.is_free&&(0,a.jsx)(h,{variant:"secondary",className:"bg-green-500/20 text-green-700 dark:text-green-300",children:"FREE"}),e.is_unlimited&&(0,a.jsxs)(h,{variant:"secondary",className:"bg-kswifi-cyan/20 text-kswifi-cyan",children:[(0,a.jsx)(V,{className:"h-3 w-3 mr-1"}),"UNLIMITED"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:e.features.slice(0,3).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[(0,a.jsx)(b.A,{className:"h-3 w-3 text-kswifi-cyan"}),(0,a.jsx)("span",{children:e})]},s))}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(K,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Valid ",C(e.validity_days)]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(Q,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Activate via eSIM"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(Y,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Offline capable"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex sm:flex-col items-center sm:items-end justify-between sm:justify-start sm:space-y-3 w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"text-left sm:text-right",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-foreground",children:_(e)}),!e.is_free&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["per ",C(e.validity_days)]})]}),(0,a.jsx)(i.$,{onClick:()=>v(e.id),disabled:c||p===e.id,className:`${(e.is_free||e.is_unlimited,"bg-primary hover:bg-primary/90 text-primary-foreground")} transition-all duration-200 font-medium min-w-[120px] sm:min-w-[140px]`,size:"sm",children:p===e.id?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(S,{className:"h-4 w-4 animate-spin"}),(0,a.jsx)("span",{children:"Downloading"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(S,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Download"}),(0,a.jsx)(X,{className:"h-3 w-3"})]})})]})]})})},e.id))}),(0,a.jsx)("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-kswifi-cyan rounded-full"})}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("p",{className:"font-medium text-foreground mb-1",children:"How it works:"}),(0,a.jsxs)("p",{children:["1. Connect to WiFi and download an internet session",(0,a.jsx)("br",{}),"2. Session is stored on your phone's eSIM chip",(0,a.jsx)("br",{}),"3. When offline, activate the eSIM to use your downloaded session",(0,a.jsx)("br",{}),"4. Browse normally until the session is finished"]})]})]})})]})]})}let es=(0,d.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),et=(0,d.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),ea=(0,d.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),er=(0,d.A)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),ei=(0,d.A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),en=(0,d.A)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);function el({refreshTrigger:e=0}){let[s,t]=(0,r.useState)([]),[l,d]=(0,r.useState)(!0),[o,m]=(0,r.useState)(null),u=async()=>{try{d(!0);let e=await Z.getMySessions();t(e)}catch(e){J.oR.error("Failed to load your sessions")}finally{d(!1)}},x=async e=>{if(!o)try{m(e);let s=await Z.activateSession(e);if(s.success)J.oR.success("Session activated successfully!",{description:"Your internet session is now active"}),await u();else throw Error(s.message||"Activation failed")}catch(e){J.oR.error(e.message||"Failed to activate session")}finally{m(null)}},p=e=>{switch(e){case"downloading":return(0,a.jsx)(S,{className:"h-4 w-4 text-blue-500 animate-bounce"});case"transferring":return(0,a.jsx)(es,{className:"h-4 w-4 text-kswifi-cyan animate-spin"});case"stored":return(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-500"});case"active":return(0,a.jsx)(et,{className:"h-4 w-4 text-kswifi-cyan animate-pulse"});case"exhausted":return(0,a.jsx)(ea,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(K,{className:"h-4 w-4 text-gray-500"})}},f=e=>{switch(e){case"downloading":return"Downloading";case"transferring":return"Transferring to eSIM";case"stored":return"Ready to activate";case"active":return"Active";case"exhausted":return"Session finished";case"expired":return"Expired";default:return e}},g=e=>{switch(e){case"active":return"default";case"stored":return"secondary";case"exhausted":case"expired":return"destructive";default:return"outline"}},y=e=>e>=999999?"Unlimited":e>=1024?`${(e/1024).toFixed(1)}GB`:`${e}MB`,j=e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/36e5);if(t<1)return"Just now";if(t<24)return`${t}h ago`;let a=Math.floor(t/24);return`${a}d ago`},w=e=>{let s=new Date(e),t=new Date,a=Math.floor((s.getTime()-t.getTime())/36e5);if(a<0)return"Expired";if(a<24)return`${a}h left`;let r=Math.floor(a/24);return`${r}d left`};return l?(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(Q,{className:"h-5 w-5 text-kswifi-cyan"}),(0,a.jsx)("span",{children:"My Internet Sessions"})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},e))})})]}):0===s.length?(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(Q,{className:"h-5 w-5 text-kswifi-cyan"}),(0,a.jsx)("span",{children:"My Internet Sessions"})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(c,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No sessions yet"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Download your first internet session to get started"})]})})]}):(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(Q,{className:"h-5 w-5 text-kswifi-cyan"}),(0,a.jsx)("span",{children:"My Internet Sessions"})]}),(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:u,disabled:l,children:[(0,a.jsx)(es,{className:`h-4 w-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]})]})}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsx)(n.Zp,{className:"border border-border bg-muted/30",children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:p(e.status)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground",children:e.name}),(0,a.jsx)(h,{variant:g(e.status),children:f(e.status)}),e.size.includes("Unlimited")&&(0,a.jsxs)(h,{variant:"secondary",className:"bg-kswifi-cyan/20 text-kswifi-cyan",children:[(0,a.jsx)(H,{className:"h-3 w-3 mr-1"}),"UNLIMITED"]})]}),("downloading"===e.status||"transferring"===e.status)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)(O,{value:e.progress_percent,className:"h-2 mb-1"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"downloading"===e.status?"Downloading session...":"Transferring to eSIM..."}),(0,a.jsxs)("span",{children:[e.progress_percent,"%"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(S,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Downloaded ",j(e.download_started_at)]})]}),e.is_active&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(et,{className:"h-3 w-3 text-kswifi-cyan"}),(0,a.jsxs)("span",{children:[y(e.data_remaining_mb)," remaining"]})]}),e.expires_at&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(er,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:w(e.expires_at)})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-row sm:flex-col gap-2 sm:space-y-2 justify-start sm:justify-end w-full sm:w-auto",children:[e.can_activate&&(0,a.jsx)(i.$,{onClick:()=>x(e.id),disabled:o===e.id,className:"bg-primary hover:bg-primary/90 text-primary-foreground font-medium min-w-[100px] flex-1 sm:flex-none",size:"sm",children:o===e.id?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(es,{className:"h-4 w-4 animate-spin"}),(0,a.jsx)("span",{children:"Activating"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ei,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Activate"})]})}),e.is_active&&(0,a.jsxs)(i.$,{variant:"outline",size:"sm",className:"border-kswifi-cyan text-kswifi-cyan hover:bg-kswifi-cyan/10 flex-1 sm:flex-none",children:[(0,a.jsx)(en,{className:"h-4 w-4 mr-2"}),"QR Code"]}),("exhausted"===e.status||"expired"===e.status)&&(0,a.jsxs)(i.$,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 flex-1 sm:flex-none",children:[(0,a.jsx)(ea,{className:"h-4 w-4 mr-2"}),"exhausted"===e.status?"Finished":"Expired"]})]})]})})},e.id))}),s.some(e=>e.can_activate)&&(0,a.jsx)("div",{className:"mt-6 p-4 bg-kswifi-cyan/10 border border-kswifi-cyan/20 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(en,{className:"h-5 w-5 text-kswifi-cyan flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm text-foreground",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"Ready to go offline?"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:'Click "Activate" to enable your downloaded session. You\'ll get a QR code to add the eSIM to your phone, then you can use the internet even without WiFi!'})]})]})})]})]})}var ed=t(1332),eo=t(8390),ec=t(8654),em=t(4975),eu=t(7195),ex=t(3272);function eh({onSuccess:e,onSwitchToSignUp:s,onForgotPassword:t}){let{signIn:l}=(0,ec.A)(),[d,o]=(0,r.useState)({email:"",password:""}),[c,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),f=async s=>{s.preventDefault(),x(!0),p(null);try{let{data:s,error:t}=await l(d.email,d.password);if(t)throw t;s?.user&&e?.()}catch(e){p(e.message||"Failed to sign in. Please check your credentials.")}finally{x(!1)}},g=(e,s)=>{o(t=>({...t,[e]:s})),p(null)};return(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Sign in to your KSWiFi account"})]}),(0,a.jsxs)("form",{onSubmit:f,children:[(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[h&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-400 bg-red-900/20 border border-red-800 rounded-md",children:h}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eo.J,{htmlFor:"email",className:"text-foreground",children:"Email"}),(0,a.jsx)(ed.p,{id:"email",type:"email",placeholder:"Enter your email",value:d.email,onChange:e=>g("email",e.target.value),required:!0,disabled:u,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eo.J,{htmlFor:"password",className:"text-foreground",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(ed.p,{id:"password",type:c?"text":"password",placeholder:"Enter your password",value:d.password,onChange:e=>g("password",e.target.value),required:!0,disabled:u,className:"pr-10 bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-muted text-muted-foreground hover:text-foreground",onClick:()=>m(!c),disabled:u,children:c?(0,a.jsx)(em.A,{className:"h-4 w-4"}):(0,a.jsx)(eu.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(i.$,{type:"button",variant:"link",size:"sm",onClick:t,disabled:u,className:"px-0 text-primary hover:text-primary/80",children:"Forgot password?"})})]}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-primary",disabled:u||!d.email||!d.password,children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ex.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"}),(0,a.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,a.jsx)(i.$,{type:"button",variant:"link",size:"sm",onClick:s,disabled:u,className:"px-0 text-primary hover:text-primary/80",children:"Sign up"})]})]})]})]})}function ep({onSuccess:e,onSwitchToSignIn:s}){let{signUp:t}=(0,ec.A)(),[l,d]=(0,r.useState)({first_name:"",last_name:"",email:"",phone_number:"",password:"",confirmPassword:""}),[o,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),g={length:l.password.length>=8,uppercase:/[A-Z]/.test(l.password),lowercase:/[a-z]/.test(l.password),number:/\d/.test(l.password),special:/[!@#$%^&*(),.?":{}|<>]/.test(l.password)},y=Object.values(g).every(Boolean),j=l.password===l.confirmPassword&&l.confirmPassword.length>0,b=async s=>{if(s.preventDefault(),h(!0),f(null),!y){f("Password does not meet requirements"),h(!1);return}if(!j){f("Passwords do not match"),h(!1);return}try{let{data:s,error:a}=await t(l.email,l.password,{first_name:l.first_name,last_name:l.last_name,phone_number:l.phone_number||void 0});if(a)throw a;s?.user&&e?.()}catch(e){f(e.message||"Failed to create account. Please try again.")}finally{h(!1)}},w=(e,s)=>{d(t=>({...t,[e]:s})),f(null)},N=({met:e,text:s})=>(0,a.jsxs)("div",{className:`flex items-center text-xs ${e?"text-primary":"text-muted-foreground"}`,children:[e?(0,a.jsx)(k.A,{className:"h-3 w-3 mr-1"}):(0,a.jsx)(v.A,{className:"h-3 w-3 mr-1"}),s]});return(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Create Account"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Sign up for your KSWiFi account"})]}),(0,a.jsxs)("form",{onSubmit:b,children:[(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[p&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-400 bg-red-900/20 border border-red-800 rounded-md",children:p}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eo.J,{htmlFor:"first_name",className:"text-foreground",children:"First Name"}),(0,a.jsx)(ed.p,{id:"first_name",type:"text",placeholder:"First name",value:l.first_name,onChange:e=>w("first_name",e.target.value),required:!0,disabled:x,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eo.J,{htmlFor:"last_name",className:"text-foreground",children:"Last Name"}),(0,a.jsx)(ed.p,{id:"last_name",type:"text",placeholder:"Last name",value:l.last_name,onChange:e=>w("last_name",e.target.value),required:!0,disabled:x,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eo.J,{htmlFor:"email",className:"text-foreground",children:"Email"}),(0,a.jsx)(ed.p,{id:"email",type:"email",placeholder:"Enter your email",value:l.email,onChange:e=>w("email",e.target.value),required:!0,disabled:x,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eo.J,{htmlFor:"phone_number",className:"text-foreground",children:"Phone Number (Optional)"}),(0,a.jsx)(ed.p,{id:"phone_number",type:"tel",placeholder:"Enter your phone number",value:l.phone_number,onChange:e=>w("phone_number",e.target.value),disabled:x,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eo.J,{htmlFor:"password",className:"text-foreground",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(ed.p,{id:"password",type:o?"text":"password",placeholder:"Create a password",value:l.password,onChange:e=>w("password",e.target.value),required:!0,disabled:x,className:"pr-10 bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-muted text-muted-foreground hover:text-foreground",onClick:()=>c(!o),disabled:x,children:o?(0,a.jsx)(em.A,{className:"h-4 w-4"}):(0,a.jsx)(eu.A,{className:"h-4 w-4"})})]}),l.password&&(0,a.jsxs)("div",{className:"space-y-1 p-2 bg-muted/20 border border-border rounded",children:[(0,a.jsx)(N,{met:g.length,text:"At least 8 characters"}),(0,a.jsx)(N,{met:g.uppercase,text:"One uppercase letter"}),(0,a.jsx)(N,{met:g.lowercase,text:"One lowercase letter"}),(0,a.jsx)(N,{met:g.number,text:"One number"}),(0,a.jsx)(N,{met:g.special,text:"One special character"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eo.J,{htmlFor:"confirmPassword",className:"text-foreground",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(ed.p,{id:"confirmPassword",type:m?"text":"password",placeholder:"Confirm your password",value:l.confirmPassword,onChange:e=>w("confirmPassword",e.target.value),required:!0,disabled:x,className:"pr-10 bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!m),disabled:x,children:m?(0,a.jsx)(em.A,{className:"h-4 w-4"}):(0,a.jsx)(eu.A,{className:"h-4 w-4"})})]}),l.confirmPassword&&(0,a.jsx)("div",{className:`text-xs ${j?"text-primary":"text-red-400"}`,children:j?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(k.A,{className:"h-3 w-3 mr-1"}),"Passwords match"]}):(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.A,{className:"h-3 w-3 mr-1"}),"Passwords do not match"]})})]})]}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-primary",disabled:x||!y||!j||!l.first_name||!l.last_name||!l.email,children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ex.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"}),(0,a.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,a.jsx)(i.$,{type:"button",variant:"link",size:"sm",onClick:s,disabled:x,className:"px-0 text-primary hover:text-primary/80",children:"Sign in"})]})]})]})]})}let ef=(0,d.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function eg({onBack:e}){let{resetPassword:s}=(0,ec.A)(),[t,l]=(0,r.useState)(""),[d,o]=(0,r.useState)(!1),[c,m]=(0,r.useState)(null),[u,x]=(0,r.useState)(!1),h=async e=>{e.preventDefault(),o(!0),m(null);try{let{data:e,error:a}=await s(t);if(a)throw a;x(!0)}catch(e){m(e.message||"Failed to send reset email. Please try again.")}finally{o(!1)}};return u?(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/20",children:(0,a.jsx)(b.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Check Your Email"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["We've sent a password reset link to ",(0,a.jsx)("strong",{children:t})]})]}),(0,a.jsx)(n.Wu,{className:"text-center text-sm text-muted-foreground",children:(0,a.jsx)("p",{children:"Click the link in the email to reset your password. If you don't see the email, check your spam folder."})}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>{x(!1),l(""),m(null)},className:"w-full border-border text-foreground hover:bg-muted",children:"Send Another Email"}),(0,a.jsxs)(i.$,{variant:"link",onClick:e,className:"w-full text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(ef,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})]})]}):(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Reset Password"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Enter your email address and we'll send you a link to reset your password"})]}),(0,a.jsxs)("form",{onSubmit:h,children:[(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[c&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-400 bg-red-900/20 border border-red-800 rounded-md",children:c}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eo.J,{htmlFor:"email",className:"text-foreground",children:"Email Address"}),(0,a.jsx)(ed.p,{id:"email",type:"email",placeholder:"Enter your email address",value:t,onChange:e=>{l(e.target.value),m(null)},required:!0,disabled:d,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]})]}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-primary",disabled:d||!t,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ex.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Reset Link..."]}):"Send Reset Link"}),(0,a.jsxs)(i.$,{type:"button",variant:"link",onClick:e,disabled:d,className:"w-full text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(ef,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})]})]})]})}function ey({children:e,fallback:s}){let{user:t,loading:r}=(0,ec.A)();return r?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(ex.A,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?(0,a.jsx)(a.Fragment,{children:e}):s||null}t(8352);let ej=(0,d.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),eb=(0,d.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ew=(0,d.A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),ev=(0,d.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),eN=(0,d.A)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ek=(0,d.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function eS(){let{user:e,loading:s,signOut:t}=(0,ec.A)(),{profile:d,loading:o}=function(){let{user:e,session:s}=(0,ec.A)(),[t,a]=(0,r.useState)(null),[i,n]=(0,r.useState)(!0),[l,d]=(0,r.useState)(null);return{profile:t,loading:i,error:l,updateProfile:async s=>{try{d(null);let{data:t,error:r}=await T.N.from("users").update(s).eq("id",e?.id).select().single();if(r)throw r;return a(t),{data:t,error:null}}catch(e){return d(e.message),{data:null,error:e}}},refreshProfile:async()=>{try{n(!0),d(null);let{data:s,error:t}=await T.N.from("users").select("*").eq("id",e?.id).single();if(t)throw t;a(s)}catch(e){d(e.message)}finally{n(!1)}}}}(),[c,m]=(0,r.useState)("onboarding"),[u,x]=(0,r.useState)("signin"),[h,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)({type:"info",title:"",message:"",isVisible:!1}),[w,v]=(0,r.useState)(!1),[k,C]=(0,r.useState)([]),[A,M]=(0,r.useState)([]),[$,P]=(0,r.useState)(null),[R,q]=(0,r.useState)(!1),[z,B]=(0,r.useState)(0),I=async()=>{if(e)try{let e=await Z.getDataPacks();C(e);let s=await Z.getESIMs();M(s);let t=await Z.getDataPackStats();P(t)}catch(e){J.oR.error("Failed to load user data")}},D=d?{name:`${d.first_name} ${d.last_name}`,email:d.email,currentData:$?.used_data_mb||0,totalData:$?.total_data_mb||0,isWifiConnected:!0,networkName:"WiFi Network"}:{name:"Guest User",email:"",currentData:0,totalData:0,isWifiConnected:!0,networkName:"WiFi Network"},F=k.length>0?k.map(e=>({size:e.name,date:new Date(e.created_at).toLocaleDateString(),used:`${e.used_data_mb}MB`,status:e.status})):[{size:"No data packs",date:"Sign in to view",used:"0 GB",status:"completed"}],E=(e,s,t)=>{b({type:e,title:s,message:t,isVisible:!0})},W=async()=>{try{await t(),m("onboarding"),C([]),M([]),P(null),J.oR.success("Signed out successfully")}catch(e){J.oR.error("Error signing out")}},O=async()=>{if(!e){E("warning","Sign In Required","Please sign in to activate data packs");return}try{let e=(await Z.getMySessions()).filter(e=>e.can_activate);if(0===e.length){E("info","No Data Packs Available","Download a session first, then activate it here");return}if(1===e.length){let s=e[0];await Z.activateSession(s.id),B(e=>e+1),E("success","Data Pack Activated!",`${s.size} session is now active`)}else E("info","Multiple Sessions Available","Check 'My Sessions' below to choose which one to activate")}catch(e){E("warning","Activation Failed",e.message||"Failed to activate data pack")}},U=async s=>{if(g(!1),!e){E("warning","Authentication Required","Please sign in first");return}try{await Z.createDataPack({bundle_name:s.size,validity_days:30}),E("success","Data Credits Purchased!",`${s.size} credits added to your account`),await I()}catch(e){E("warning","Purchase Failed",e.message||"Failed to purchase data credits")}},L=()=>{m("dashboard"),J.oR.success(`Welcome ${d?.first_name||"back"}!`)},G=()=>(0,a.jsxs)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute top-4 left-4",children:(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{x("signin"),m("onboarding")},className:"text-muted-foreground hover:text-foreground",children:"← Back"})}),"signin"===u&&(0,a.jsx)(eh,{onSuccess:L,onSwitchToSignUp:()=>x("signup"),onForgotPassword:()=>x("reset-password")}),"signup"===u&&(0,a.jsx)(ep,{onSuccess:L,onSwitchToSignIn:()=>x("signin")}),"reset-password"===u&&(0,a.jsx)(eg,{onBack:()=>x("signin")})]});return s?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?(0,a.jsxs)(ey,{fallback:G(),children:["dashboard"===c&&(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-card shadow-2xl min-h-screen border-x border-border",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-card to-muted text-foreground p-6 rounded-b-lg border-b border-border",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"KSWiFi"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Welcome, ",D.name.split(" ")[0]]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>m("settings"),className:"text-muted-foreground hover:bg-muted/50 hover:text-foreground",children:(0,a.jsx)(ej,{className:"w-5 h-5"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:W,className:"text-muted-foreground hover:bg-muted/50 hover:text-foreground",children:(0,a.jsx)(eb,{className:"w-5 h-5"})})]})]}),(0,a.jsx)(p,{isConnected:D.isWifiConnected,networkName:D.networkName})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(l,{currentData:D.currentData,totalData:D.totalData,unit:"GB"})}),(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(f,{icon:S,label:"Download Session",description:"On WiFi",onClick:()=>{if(!D.isWifiConnected){E("warning","WiFi Required","Connect to WiFi to download internet sessions");return}if(!e){E("warning","Sign In Required","Please sign in to download sessions");return}q(!0)}}),(0,a.jsx)(f,{icon:ei,label:"Activate Data Pack",description:"Use Downloaded",onClick:O})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(f,{icon:en,label:"Setup eSIM",description:"Scan QR Code",onClick:()=>E("info","QR Scanner","QR scanner feature coming soon!"),variant:"secondary"})})]}),(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Recent Activity"}),(0,a.jsxs)(i.$,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(ew,{className:"w-4 h-4 mr-1"}),"View All"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:F.slice(0,3).map((e,s)=>(0,a.jsx)(j,{...e},s))})]}),(0,a.jsx)("div",{className:"px-6 pb-6",children:(0,a.jsx)(el,{refreshTrigger:z})})]}),R&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-background rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Download Internet Session"}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>q(!1),className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(ee,{onSessionDownload:e=>{q(!1),B(e=>e+1),J.oR.success("Session download started!",{description:"Your internet session is being prepared"})}})})]})}),h&&(0,a.jsx)(_,{onSelect:U,onCancel:()=>g(!1)}),y.isVisible&&(0,a.jsx)(N,{type:y.type,title:y.title,message:y.message,isVisible:y.isVisible,onClose:()=>b(e=>({...e,isVisible:!1}))})]}),"settings"===c&&(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-card shadow-2xl min-h-screen border-x border-border",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary to-kswifi-cyan-dark text-primary-foreground p-6 rounded-b-3xl",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>m("dashboard"),className:"text-primary-foreground hover:bg-black/20",children:"←"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:"Profile"}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsx)("div",{className:"flex items-center justify-between p-3 bg-muted/20 border border-border rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(ev,{className:"w-5 h-5 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:D.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:D.email})]})]})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:"Security"}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/20 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(Y,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("span",{className:"text-foreground",children:"Enhanced Security"})]}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>v(!w),className:"border-border text-foreground hover:bg-muted",children:w?"Enabled":"Enable"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:"Support"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start p-3 text-foreground hover:bg-muted",children:[(0,a.jsx)(eN,{className:"w-5 h-5 mr-3 text-primary"}),"Help Center"]}),(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start p-3 text-foreground hover:bg-muted",children:[(0,a.jsx)(ek,{className:"w-5 h-5 mr-3 text-primary"}),"About KSWiFi"]})]})]}),(0,a.jsx)("div",{className:"pt-6 border-t border-border",children:(0,a.jsxs)(i.$,{variant:"destructive",className:"w-full bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:W,children:[(0,a.jsx)(eb,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]})]})})]}):"onboarding"!==c||"signup"===u||"reset-password"===u?G():(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-md text-center p-8 bg-card border-border",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse-cyan",children:(0,a.jsx)(Q,{className:"w-10 h-10 text-primary-foreground"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"KSWiFi"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:"Virtual eSIM Data Manager"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Download internet sessions on WiFi, use offline via eSIM"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(i.$,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",size:"lg",onClick:()=>{x("signup"),m("dashboard")},children:"Get Started"}),(0,a.jsx)(i.$,{variant:"outline",className:"w-full border-border text-foreground hover:bg-muted",size:"lg",onClick:()=>{x("signin"),m("dashboard")},children:"Sign In"})]})]})})}},257:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspace/frontend/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/frontend/app/page.tsx","default")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1630:e=>{"use strict";e.exports=require("http")},1997:e=>{"use strict";e.exports=require("punycode")},2733:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var a=t(5853),r=t(554),i=t(708),n=t.n(i),l=t(8067),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,257)),"/workspace/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7898)),"/workspace/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,2192,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,2137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,8358,23)),"next/dist/client/components/unauthorized-error"]}],c=["/workspace/frontend/app/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4010:(e,s,t)=>{Promise.resolve().then(t.bind(t,257))},4075:e=>{"use strict";e.exports=require("zlib")},5591:e=>{"use strict";e.exports=require("https")},7058:(e,s,t)=>{Promise.resolve().then(t.bind(t,126))},7910:e=>{"use strict";e.exports=require("stream")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[20,686,607],()=>t(2733));module.exports=a})();