(()=>{var e={};e.id=974,e.ids=[974],e.modules={257:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspace/frontend/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/frontend/app/page.tsx","default")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1630:e=>{"use strict";e.exports=require("http")},1997:e=>{"use strict";e.exports=require("punycode")},2733:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var a=t(5853),r=t(554),i=t(708),n=t.n(i),l=t(8067),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,257)),"/workspace/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7898)),"/workspace/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,2192,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,2137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,8358,23)),"next/dist/client/components/unauthorized-error"]}],d=["/workspace/frontend/app/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4010:(e,s,t)=>{Promise.resolve().then(t.bind(t,257))},4075:e=>{"use strict";e.exports=require("zlib")},5591:e=>{"use strict";e.exports=require("https")},7058:(e,s,t)=>{Promise.resolve().then(t.bind(t,8117))},7910:e=>{"use strict";e.exports=require("stream")},8117:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>e1});var a=t(8625),r=t(4996),i=t(5918),n=t(5136);function l({currentData:e,totalData:s,unit:t}){let r=e/s*100,i=2*Math.PI*45,n=i-r/100*i;return(0,a.jsxs)("div",{className:"relative w-48 h-48 mx-auto",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-muted opacity-20"}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:i,strokeDashoffset:n,className:"text-primary transition-all duration-1000 ease-out",style:{filter:"drop-shadow(0 0 8px #00CFE8)"}})]}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-foreground",children:e.toFixed(1)}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["of ",s," ",t]}),(0,a.jsxs)("div",{className:"text-xs text-primary mt-1",children:[r.toFixed(0),"% used"]})]})]})}var o=t(3922);let c=(0,o.A)("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),d=(0,o.A)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),m=(0,o.A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),u=(0,o.A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),x=(0,o.A)("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);var h=t(4714),p=t(6761);let f=(0,h.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border"}},defaultVariants:{variant:"default"}});function g({className:e,variant:s,...t}){return(0,a.jsx)("div",{className:(0,p.cn)(f({variant:s}),e),...t})}function y(){let[e,s]=(0,r.useState)({isConnected:!1,networkName:void 0,signalStrength:void 0,connectionType:"none",isOnline:navigator.onLine});return e}function j({isConnected:e,networkName:s}){let t=y(),r=void 0!==e?e:t.isConnected,i=void 0!==s?s:t.networkName,n=t.connectionType,l=t.signalStrength,o=t.isOnline;return(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-card border",children:[(()=>{if(!r||!o)return(0,a.jsx)(c,{className:"w-5 h-5 text-muted-foreground"});switch(n){case"wifi":return(0,a.jsx)(d,{className:"w-5 h-5 text-primary"});case"cellular":return(0,a.jsx)(m,{className:"w-5 h-5 text-primary"});case"ethernet":return(0,a.jsx)(u,{className:"w-5 h-5 text-primary"});default:return(0,a.jsx)(x,{className:"w-5 h-5 text-primary"})}})(),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:(()=>{if(!r||!o)return"No Internet Connection";switch(n){case"wifi":return"Connected via WiFi";case"cellular":return"Connected via Cellular";case"ethernet":return"Connected via Ethernet";default:return"Connected to Internet"}})()}),i&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[i,l&&r?(0,a.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:`w-1 h-3 rounded-sm ${e<=l?"bg-primary":"bg-muted-foreground/30"}`},e))}):null]}),!o&&(0,a.jsx)("div",{className:"text-xs text-destructive",children:"Check your internet connection"})]}),(0,a.jsx)(g,{variant:r&&o?"default":"secondary",children:r&&o?"Online":"Offline"})]})}function w({icon:e,label:s,description:t,onClick:r,disabled:n=!1,variant:l="default"}){return(0,a.jsxs)(i.$,{onClick:r,disabled:n,variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2 text-left bg-card border-border text-foreground hover:bg-muted/50 transition-colors",children:[(0,a.jsx)(e,{className:"w-8 h-8"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"font-semibold",children:s}),(0,a.jsx)("div",{className:"text-xs opacity-80",children:t})]})]})}let v=(0,o.A)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),b=(0,o.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function N({size:e,date:s,used:t,status:r}){return(0,a.jsx)(n.Zp,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(v,{className:"w-4 h-4 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:e}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(b,{className:"w-3 h-3"}),s]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Used: ",t]}),(0,a.jsx)("div",{className:`text-xs capitalize ${{completed:"text-muted-foreground",active:"text-primary",expired:"text-destructive"}[r]}`,children:r})]})]})})}var k=t(1802);let S=(0,o.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var C=t(5818);function A({type:e,title:s,message:t,isVisible:r,onClose:n,autoClose:l=!0,duration:o=3e3}){return r?(0,a.jsx)("div",{className:"fixed top-4 left-4 right-4 z-50 animate-in slide-in-from-top-2",children:(0,a.jsx)("div",{className:`p-4 rounded-lg border backdrop-blur-sm ${(()=>{switch(e){case"success":return"bg-green-900/20 border-green-500/30";case"warning":return"bg-yellow-900/20 border-yellow-500/30";case"info":return"bg-blue-900/20 border-blue-500/30"}})()}`,children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(()=>{switch(e){case"success":return(0,a.jsx)(k.A,{className:"w-5 h-5 text-green-400"});case"warning":return(0,a.jsx)(S,{className:"w-5 h-5 text-yellow-400"});case"info":return(0,a.jsx)(d,{className:"w-5 h-5 text-blue-400"})}})(),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-foreground",children:s}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:n,className:"h-6 w-6 p-0",children:(0,a.jsx)(C.A,{className:"w-3 h-3"})})]})})}):null}var _=t(2494);let P=(0,o.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function F({onSelect:e,onCancel:s}){let[t,l]=(0,r.useState)(null);return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-sm bg-background rounded-lg p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Buy Data Credits"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Buy data credits to use later with KSWiFi Connect"})]}),(0,a.jsx)("div",{className:"space-y-3",children:[{size:"1GB",price:"₦500",price_ngn:500,validity:"30 days"},{size:"5GB",price:"₦2,000",price_ngn:2e3,validity:"30 days",popular:!0},{size:"10GB",price:"₦3,500",price_ngn:3500,validity:"30 days"},{size:"20GB",price:"₦6,000",price_ngn:6e3,validity:"30 days"},{size:"Unlimited",price:"₦800",price_ngn:800,validity:"7 days",isUnlimited:!0,plan_type:"unlimited",popular:!0}].map(e=>(0,a.jsxs)(n.Zp,{className:`p-4 cursor-pointer transition-all relative ${t?.size===e.size?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>l(e),children:[e.popular&&(0,a.jsx)("div",{className:"absolute -top-2 left-4 bg-primary text-primary-foreground text-xs px-2 py-1 rounded",children:"Popular"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-foreground",children:[e.size,e.isUnlimited&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"UNLIMITED"})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.price," • Valid for ",e.validity]})]}),t?.size===e.size&&(0,a.jsx)(_.A,{className:"w-5 h-5 text-primary"})]})]},e.size))}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:s,className:"flex-1 bg-transparent",children:"Cancel"}),(0,a.jsxs)(i.$,{onClick:()=>t&&e(t),disabled:!t,className:"flex-1 bg-primary text-primary-foreground hover:bg-primary/90",children:[(0,a.jsx)(P,{className:"w-4 h-4 mr-2"}),"Buy Credits"]})]})]})})}var M=t(5413),$="Progress",[q,R]=function(e,s=[]){let t=[],i=()=>{let s=t.map(e=>r.createContext(e));return function(t){let a=t?.[e]||s;return r.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return i.scopeName=e,[function(s,i){let n=r.createContext(i),l=t.length;t=[...t,i];let o=s=>{let{scope:t,children:i,...o}=s,c=t?.[e]?.[l]||n,d=r.useMemo(()=>o,Object.values(o));return(0,a.jsx)(c.Provider,{value:d,children:i})};return o.displayName=s+"Provider",[o,function(t,a){let o=a?.[e]?.[l]||n,c=r.useContext(o);if(c)return c;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${s}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((s,{useScope:t,scopeName:a})=>{let r=t(e)[`__scope${a}`];return{...s,...r}},{});return r.useMemo(()=>({[`__scope${s.scopeName}`]:a}),[a])}};return t.scopeName=s.scopeName,t}(i,...s)]}($),[W,z]=q($),T=r.forwardRef((e,s)=>{let{__scopeProgress:t,value:r=null,max:i,getValueLabel:n=B,...l}=e;(i||0===i)&&K(i);let o=K(i)?i:100;null!==r&&L(r,o);let c=L(r,o)?r:null,d=O(c)?n(c,o):void 0;return(0,a.jsx)(W,{scope:t,value:c,max:o,children:(0,a.jsx)(M.sG.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":O(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":E(c,o),"data-value":c??void 0,"data-max":o,...l,ref:s})})});T.displayName=$;var I="ProgressIndicator",D=r.forwardRef((e,s)=>{let{__scopeProgress:t,...r}=e,i=z(I,t);return(0,a.jsx)(M.sG.div,{"data-state":E(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:s})});function B(e,s){return`${Math.round(e/s*100)}%`}function E(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function O(e){return"number"==typeof e}function K(e){return O(e)&&!isNaN(e)&&e>0}function L(e,s){return O(e)&&!isNaN(e)&&e<=s&&e>=0}D.displayName=I;let U=r.forwardRef(({className:e,value:s,...t},r)=>(0,a.jsx)(T,{ref:r,className:(0,p.cn)("relative h-2 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:(0,a.jsx)(D,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));U.displayName=T.displayName;var Z=t(3161);let H=process.env.NEXT_PUBLIC_BACKEND_URL||"https://your-backend-url.com";class V{async getCurrentUserId(){let{data:{session:e},error:s}=await Z.N.auth.getSession();if(s)throw s;if(!e?.user)throw Error("No user logged in");return e.user.id}async getAuthToken(){let{data:{session:e},error:s}=await Z.N.auth.getSession();if(s)throw s;if(!e?.access_token)throw Error("No auth token available");return e.access_token}async makeBackendRequest(e,s={}){try{let t=await this.getAuthToken(),a=await fetch(`${H}/api${e}`,{...s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,...s.headers}});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.detail||`HTTP ${a.status}: ${a.statusText}`)}return await a.json()}catch(e){throw e}}async makeOptionalAuthRequest(e,s={}){try{let t={"Content-Type":"application/json",...s.headers};try{let e=await this.getAuthToken();null===t||Array.isArray(t)||(t.Authorization=`Bearer ${e}`)}catch(e){}let a=await fetch(`${H}/api${e}`,{...s,headers:t});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.detail||`HTTP ${a.status}: ${a.statusText}`)}return await a.json()}catch(e){throw e}}async signup(e){let{data:s,error:t}=await Z.N.auth.signUp({email:e.email,password:e.password,options:{data:{first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number}}});if(t)throw t;if(s.user){let{error:t}=await Z.N.from("users").insert({id:s.user.id,email:e.email,first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number,status:"active",is_admin:!1});if(t)throw t;try{await fetch(`${H}/api/auth/webhook/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:s.user.id})})}catch(e){}}return{access_token:s.session?.access_token||"",token_type:"bearer",expires_in:s.session?.expires_in||3600,user:{id:s.user?.id||"",email:e.email,first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number,status:"active",is_admin:!1,created_at:new Date().toISOString()}}}async login(e,s){let{data:t,error:a}=await Z.N.auth.signInWithPassword({email:e,password:s});if(a)throw a;if(t.user)try{await fetch(`${H}/api/auth/webhook/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.user.id})})}catch(e){}let{data:r,error:i}=await Z.N.from("users").select("*").eq("id",t.user?.id).single();if(i)throw i;return{access_token:t.session?.access_token||"",token_type:"bearer",expires_in:t.session?.expires_in||3600,user:r}}async logout(){let{error:e}=await Z.N.auth.signOut();if(e)throw e}async getCurrentUser(){let{data:{session:e},error:s}=await Z.N.auth.getSession();if(s)throw s;if(!e?.user)throw Error("No user logged in");let{data:t,error:a}=await Z.N.from("users").select("*").eq("id",e.user.id).single();if(a)throw a;return t}async refreshToken(){let{data:e,error:s}=await Z.N.auth.refreshSession();if(s)throw s;let{data:t,error:a}=await Z.N.from("users").select("*").eq("id",e.user?.id).single();if(a)throw a;return{access_token:e.session?.access_token||"",token_type:"bearer",expires_in:e.session?.expires_in||3600,user:t}}async getAvailableSessions(e){try{let s=new URLSearchParams;e&&s.append("wifi_network",e);try{let e=await this.getCurrentUserId();s.append("user_id",e)}catch(e){}let t=`/sessions/available${s.toString()?`?${s.toString()}`:""}`;return await this.makeOptionalAuthRequest(t)}catch(e){throw e instanceof Error&&e.message.includes("No auth token"),e}}async startSessionDownload(e,s){return await this.makeBackendRequest("/sessions/download",{method:"POST",body:JSON.stringify({session_id:e,connect_profile_id:s})})}async activateSession(e){return await this.makeBackendRequest("/sessions/activate",{method:"POST",body:JSON.stringify({session_id:e})})}async getMySessions(){return await this.makeBackendRequest("/sessions/my-sessions")}async getSessionStatus(e){return await this.makeBackendRequest(`/sessions/${e}/status`)}async trackSessionUsage(e,s){return await this.makeBackendRequest("/sessions/track-usage",{method:"POST",body:JSON.stringify({session_id:e,data_used_mb:s})})}async getDataPacks(e){let s=await this.getCurrentUserId();return(await this.makeBackendRequest(`/bundles/user/${s}/packs${e?`?status=${e}`:""}`)).packs}async getAvailableBundles(){return await this.makeBackendRequest("/bundles/available")}async calculateBundlePrice(e,s=30){return await this.makeBackendRequest(`/bundles/calculate-price?data_mb=${e}&validity_days=${s}`,{method:"POST"})}async createDataPack(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/bundles/create",{method:"POST",body:JSON.stringify({user_id:s,...e})})}async recordDataUsage(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/bundles/usage/update",{method:"POST",body:JSON.stringify({user_id:s,...e})})}async getDataPackStats(){let e=await this.getCurrentUserId();return await this.makeBackendRequest(`/bundles/user/${e}/summary`)}async getConnectProfiles(){let e=await this.getCurrentUserId();return(await this.makeBackendRequest(`/connect/profiles/${e}`)).connect_profiles}async provisionConnectProfile(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/connect/provision",{method:"POST",body:JSON.stringify({user_id:s,bundle_size_mb:e})})}async activateConnectProfile(e){return await this.makeBackendRequest(`/connect/profiles/${e}/activate`,{method:"POST"})}async suspendConnectProfile(e){return await this.makeBackendRequest(`/connect/profiles/${e}/suspend`,{method:"POST"})}async getConnectProfileUsage(e){return await this.makeBackendRequest(`/connect/profiles/${e}/usage`)}async getConnectProfileStatus(e){return await this.makeBackendRequest(`/connect/profiles/${e}/status`)}async getConnectProfileQRCode(e){return await this.makeBackendRequest(`/connect/profiles/${e}/qr-code`)}async getNotifications(e=50,s=!1){let t=await this.getCurrentUserId();return await this.makeBackendRequest(`/notifications/user/${t}?limit=${e}&unread_only=${s}`)}async markNotificationRead(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/notifications/mark-read",{method:"POST",body:JSON.stringify({notification_id:e,user_id:s})})}async markAllNotificationsRead(){let e=await this.getCurrentUserId();return await this.makeBackendRequest(`/notifications/user/${e}/mark-all-read`,{method:"POST"})}async getUnreadNotificationCount(){let e=await this.getCurrentUserId();return await this.makeBackendRequest(`/notifications/user/${e}/unread-count`)}async registerDevice(e,s){let t=await this.getCurrentUserId();return await this.makeBackendRequest("/auth/device/register",{method:"POST",body:JSON.stringify({user_id:t,push_token:e,device_type:s})})}async getMonitoringStats(){return await this.makeBackendRequest("/monitoring/stats")}async generateConnect(e,s=1024){try{return await this.makeBackendRequest("/esim/generate-esim",{method:"POST",body:JSON.stringify({session_id:e,data_pack_size_mb:s,carrier_name:"KSWiFi",carrier_plmn:"99999"})})}catch(e){throw e}}async generateESIM(e,s=1024){return this.generateConnect(e,s)}async healthCheck(){try{let e=await Z.N.from("users").select("id").limit(1),s=await this.makeBackendRequest("/health");return{status:"healthy",service:"KSWiFi App (Hybrid)",supabase:e.error?"unhealthy":"healthy",backend:s.status||"healthy"}}catch(e){return{status:"unhealthy",service:"KSWiFi App (Hybrid)",error:e instanceof Error?e.message:"Unknown error"}}}}let G=new V;var Y=t(2647);let J=(0,o.A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Q=(0,o.A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),X=(0,o.A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),ee=(0,o.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),es=(0,o.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),et=(0,o.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function ea({onSessionDownload:e}){let[s,t]=(0,r.useState)([]),[l,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)(0),[p,f]=(0,r.useState)(null),[j,w]=(0,r.useState)(!0);y();let v=async s=>{if(!c)try{u(!0),f(s),h(0);let t=await G.startSessionDownload(s);if(t.success)Y.oR.success("Session download started!"),e(s),b(t.data.session_id);else throw Error(t.message||"Download failed")}catch(e){Y.oR.error(e.message||"Failed to start session download"),u(!1),f(null)}},b=e=>{let s=0,t=setInterval(async()=>{if((s+=15*Math.random()+5)>=100){s=100,clearInterval(t),u(!1),f(null),h(0);try{let s=await G.getSessionStatus(e);"stored"===s.data.status&&Y.oR.success("Internet session downloaded successfully!",{description:"You can now activate it for offline use"})}catch(e){}}else h(s)},800)},N=e=>e.is_free?(0,a.jsx)(J,{className:"h-5 w-5 text-green-500"}):e.is_unlimited?(0,a.jsx)(Q,{className:"h-5 w-5 text-kswifi-cyan"}):(0,a.jsx)(P,{className:"h-5 w-5 text-blue-500"}),S=e=>e.is_free?"FREE":`₦${e.price_ngn.toLocaleString()}`,C=e=>7===e?"1 week":30===e?"1 month":`${e} days`;return j?(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{className:"text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,a.jsx)(d,{className:"h-6 w-6 text-kswifi-cyan animate-pulse"}),(0,a.jsx)(n.ZB,{className:"text-xl font-semibold text-foreground",children:"Loading Sessions..."})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-24 bg-muted animate-pulse rounded-lg"},e))})})]}):(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,a.jsx)(d,{className:"h-6 w-6 text-kswifi-cyan"}),(0,a.jsx)(n.ZB,{className:"text-xl font-semibold text-foreground",children:"Download Internet Sessions"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Download internet sessions on WiFi to use later globally via KSWiFi Connect"})]}),(0,a.jsxs)(n.Wu,{children:[c&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-kswifi-cyan/10 border border-kswifi-cyan/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,a.jsx)(P,{className:"h-5 w-5 text-kswifi-cyan animate-bounce"}),(0,a.jsx)("span",{className:"font-medium text-foreground",children:"Downloading Internet Session..."})]}),(0,a.jsx)(U,{value:x,className:"h-3 mb-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"Preparing Connect Profile"}),(0,a.jsxs)("span",{children:[Math.round(x),"% complete"]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsx)(n.Zp,{className:`transition-all duration-200 hover:shadow-md border ${e.is_free?"border-green-500/30 bg-green-500/5":e.is_unlimited?"border-kswifi-cyan/30 bg-kswifi-cyan/5":"border-border bg-card"}`,children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:N(e)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground text-lg",children:e.size}),e.is_free&&(0,a.jsx)(g,{variant:"secondary",className:"bg-green-500/20 text-green-700 dark:text-green-300",children:"FREE"}),e.is_unlimited&&(0,a.jsxs)(g,{variant:"secondary",className:"bg-kswifi-cyan/20 text-kswifi-cyan",children:[(0,a.jsx)(X,{className:"h-3 w-3 mr-1"}),"UNLIMITED"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:e.features.slice(0,3).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[(0,a.jsx)(k.A,{className:"h-3 w-3 text-kswifi-cyan"}),(0,a.jsx)("span",{children:e})]},s))}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(ee,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Valid ",C(e.validity_days||0)]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(m,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Activate via KSWiFi Connect"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(es,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Offline capable"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex sm:flex-col items-center sm:items-end justify-between sm:justify-start sm:space-y-3 w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"text-left sm:text-right",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-foreground",children:S(e)}),!e.is_free&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["per ",C(e.validity_days||0)]})]}),(0,a.jsx)(i.$,{onClick:()=>v(e.id),disabled:c||p===e.id,className:`${(e.is_free||e.is_unlimited,"bg-primary hover:bg-primary/90 text-primary-foreground")} transition-all duration-200 font-medium min-w-[120px] sm:min-w-[140px]`,size:"sm",children:p===e.id?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(P,{className:"h-4 w-4 animate-spin"}),(0,a.jsx)("span",{children:"Downloading"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(P,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Download"}),(0,a.jsx)(et,{className:"h-3 w-3"})]})})]})]})})},e.id))}),(0,a.jsx)("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-kswifi-cyan rounded-full"})}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("p",{className:"font-medium text-foreground mb-1",children:"How it works:"}),(0,a.jsxs)("p",{children:["1. Connect to WiFi and download an internet session",(0,a.jsx)("br",{}),"2. Session is stored as a KSWiFi Connect profile",(0,a.jsx)("br",{}),"3. When offline, activate the profile to use your downloaded session",(0,a.jsx)("br",{}),"4. Browse normally until the session is finished"]})]})]})})]})]})}let er=(0,o.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ei=(0,o.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),en=(0,o.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),el=(0,o.A)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),eo=(0,o.A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),ec=(0,o.A)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);function ed({refreshTrigger:e=0}){let[s,t]=(0,r.useState)([]),[l,o]=(0,r.useState)(!0),[d,u]=(0,r.useState)(null),x=async()=>{try{o(!0);let e=await G.getMySessions();t(e)}catch(e){Y.oR.error("Failed to load your sessions")}finally{o(!1)}},h=async e=>{if(!d)try{u(e);let s=await G.activateSession(e);if(s.success)Y.oR.success("Session activated successfully!",{description:"Your internet session is now active"}),await x();else throw Error(s.message||"Activation failed")}catch(e){Y.oR.error(e.message||"Failed to activate session")}finally{u(null)}},p=e=>{switch(e){case"downloading":return(0,a.jsx)(P,{className:"h-4 w-4 text-blue-500 animate-bounce"});case"transferring":return(0,a.jsx)(er,{className:"h-4 w-4 text-kswifi-cyan animate-spin"});case"stored":return(0,a.jsx)(k.A,{className:"h-4 w-4 text-green-500"});case"active":return(0,a.jsx)(ei,{className:"h-4 w-4 text-kswifi-cyan animate-pulse"});case"exhausted":return(0,a.jsx)(en,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(ee,{className:"h-4 w-4 text-gray-500"})}},f=e=>{switch(e){case"downloading":return"Downloading";case"transferring":return"Preparing Connect Profile";case"stored":return"Ready to activate";case"active":return"Active";case"exhausted":return"Session finished";case"expired":return"Expired";default:return e}},y=e=>{switch(e){case"active":return"default";case"stored":return"secondary";case"exhausted":case"expired":return"destructive";default:return"outline"}},j=e=>e>=999999?"Unlimited":e>=1024?`${(e/1024).toFixed(1)}GB`:`${e}MB`,w=e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/36e5);if(t<1)return"Just now";if(t<24)return`${t}h ago`;let a=Math.floor(t/24);return`${a}d ago`},v=e=>{let s=new Date(e),t=new Date,a=Math.floor((s.getTime()-t.getTime())/36e5);if(a<0)return"Expired";if(a<24)return`${a}h left`;let r=Math.floor(a/24);return`${r}d left`};return l?(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(m,{className:"h-5 w-5 text-kswifi-cyan"}),(0,a.jsx)("span",{children:"My Internet Sessions"})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},e))})})]}):0===s.length?(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(m,{className:"h-5 w-5 text-kswifi-cyan"}),(0,a.jsx)("span",{children:"My Internet Sessions"})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(c,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No sessions yet"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Download your first internet session to get started"})]})})]}):(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(m,{className:"h-5 w-5 text-kswifi-cyan"}),(0,a.jsx)("span",{children:"My Internet Sessions"})]}),(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:x,disabled:l,children:[(0,a.jsx)(er,{className:`h-4 w-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]})]})}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsx)(n.Zp,{className:"border border-border bg-muted/30",children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:p(e.status)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground",children:e.name}),(0,a.jsx)(g,{variant:y(e.status),children:f(e.status)}),e.size.includes("Unlimited")&&(0,a.jsxs)(g,{variant:"secondary",className:"bg-kswifi-cyan/20 text-kswifi-cyan",children:[(0,a.jsx)(Q,{className:"h-3 w-3 mr-1"}),"UNLIMITED"]})]}),("downloading"===e.status||"transferring"===e.status)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)(U,{value:e.progress_percent,className:"h-2 mb-1"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"downloading"===e.status?"Downloading session...":"Preparing Connect Profile..."}),(0,a.jsxs)("span",{children:[e.progress_percent,"%"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(P,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Downloaded ",w(e.download_started_at)]})]}),e.is_active&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(ei,{className:"h-3 w-3 text-kswifi-cyan"}),(0,a.jsxs)("span",{children:[j(e.data_remaining_mb)," remaining"]})]}),e.expires_at&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(el,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:v(e.expires_at)})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-row sm:flex-col gap-2 sm:space-y-2 justify-start sm:justify-end w-full sm:w-auto",children:[e.can_activate&&(0,a.jsx)(i.$,{onClick:()=>h(e.id),disabled:d===e.id,className:"bg-primary hover:bg-primary/90 text-primary-foreground font-medium min-w-[100px] flex-1 sm:flex-none",size:"sm",children:d===e.id?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(er,{className:"h-4 w-4 animate-spin"}),(0,a.jsx)("span",{children:"Activating"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eo,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Activate"})]})}),e.is_active&&(0,a.jsxs)(i.$,{variant:"outline",size:"sm",className:"border-kswifi-cyan text-kswifi-cyan hover:bg-kswifi-cyan/10 flex-1 sm:flex-none",children:[(0,a.jsx)(ec,{className:"h-4 w-4 mr-2"}),"QR Code"]}),("exhausted"===e.status||"expired"===e.status)&&(0,a.jsxs)(i.$,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 flex-1 sm:flex-none",children:[(0,a.jsx)(en,{className:"h-4 w-4 mr-2"}),"exhausted"===e.status?"Finished":"Expired"]})]})]})})},e.id))}),s.some(e=>e.can_activate)&&(0,a.jsx)("div",{className:"mt-6 p-4 bg-kswifi-cyan/10 border border-kswifi-cyan/20 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(ec,{className:"h-5 w-5 text-kswifi-cyan flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm text-foreground",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"Ready to go offline?"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:'Click "Activate" to enable your downloaded session. You\'ll get a QR code to add the KSWiFi Connect profile to your phone, then you can use the internet even without WiFi!'})]})]})})]})]})}var em=t(1332),eu=t(8390),ex=t(8654);class eh{async initializePlugin(){if(this.isInitialized)return this.plugin;try{return this.isInitialized=!0,null}catch(e){return this.isInitialized=!0,null}}async isAvailable(){let e=await this.initializePlugin();return e?e.isAvailable():{isAvailable:!1}}async verifyIdentity(e){let s=await this.initializePlugin();if(!s)throw Error("Biometric authentication not available on this platform");return s.verifyIdentity(e)}async setCredentials(e){let s=await this.initializePlugin();if(!s)throw Error("Biometric credential storage not available on this platform");return s.setCredentials(e)}async getCredentials(e){let s=await this.initializePlugin();if(!s)throw Error("Biometric credential retrieval not available on this platform");return s.getCredentials(e)}async deleteCredentials(e){let s=await this.initializePlugin();if(!s)throw Error("Biometric credential deletion not available on this platform");return s.deleteCredentials(e)}constructor(){this.plugin=null,this.isInitialized=!1}}let ep=new eh;var ef=t(4975),eg=t(7195),ey=t(3272);function ej({onSuccess:e,onSwitchToSignUp:s,onForgotPassword:t}){let{signIn:l}=(0,ex.A)(),{capabilities:o,isLoading:c,authenticateWithBiometrics:d,getBiometricCredentials:m,saveBiometricCredentials:u,getBiometricTypeIcon:x,getBiometricTypeName:h}=function(){let[e,s]=(0,r.useState)({isAvailable:!1,supportedTypes:[],hasEnrolledCredentials:!1}),[t,a]=(0,r.useState)(!1),i=async()=>{try{await n(),e.isAvailable}catch(e){s({isAvailable:!1,supportedTypes:[],hasEnrolledCredentials:!1})}},n=async()=>{try{let e=await ep.isAvailable();if(e.isAvailable){let t=await ep.getCredentials({server:"kswifi.app"}).then(()=>!0).catch(()=>!1);s({isAvailable:e.isAvailable,supportedTypes:e.biometryType?[e.biometryType]:[],hasEnrolledCredentials:t})}else s({isAvailable:!1,supportedTypes:[],hasEnrolledCredentials:!1})}catch(e){s({isAvailable:!1,supportedTypes:[],hasEnrolledCredentials:!1})}},l=async(s="Authenticate to access your account")=>{if(!e.isAvailable)return{success:!1,error:"Biometric authentication is not available on this device"};a(!0);try{try{return await o(s)}catch(e){throw e}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Authentication failed"}}finally{a(!1)}},o=async e=>{try{return await ep.verifyIdentity({reason:e,title:"KSWiFi Authentication",subtitle:"Use your biometric to sign in",description:"Place your finger on the sensor or look at the camera"}),{success:!0}}catch(e){if("userCancel"===e.code||e.message?.includes("cancel"))return{success:!1,cancelled:!0,error:"Authentication was cancelled"};return{success:!1,error:e.message||"Biometric authentication failed"}}},c=async(s,t)=>{if(!e.isAvailable)return!1;try{return await ep.setCredentials({username:s,password:t,server:"kswifi.app"}),!0}catch(e){return!1}},d=async()=>{if(!e.isAvailable)return null;try{let e=await ep.getCredentials({server:"kswifi.app"});return{username:e.username,password:e.password}}catch(e){return null}};return{capabilities:e,isLoading:t,authenticateWithBiometrics:l,saveBiometricCredentials:c,getBiometricCredentials:d,deleteBiometricCredentials:async()=>{try{return await ep.deleteCredentials({server:"kswifi.app"}),!0}catch(e){return!1}},getBiometricTypeIcon:()=>{if(!e.isAvailable)return"\uD83D\uDD12";switch(e.supportedTypes[0]){case"face":case"faceId":return"\uD83D\uDC64";case"fingerprint":case"touchId":return"\uD83D\uDC46";case"platform":return"\uD83D\uDD10";default:return"\uD83D\uDD12"}},getBiometricTypeName:()=>{if(!e.isAvailable)return"Biometric";switch(e.supportedTypes[0]){case"face":case"faceId":return"Face ID";case"fingerprint":case"touchId":return"Touch ID";default:return"Biometric"}},checkBiometricCapabilities:i}}(),[p,f]=(0,r.useState)({email:"",password:""}),[g,y]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[v,b]=(0,r.useState)(null),[N,k]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),A=async s=>{s.preventDefault(),w(!0),b(null);try{let{data:s,error:t}=await l(p.email,p.password);if(t)throw t;s?.user&&(S&&o.isAvailable&&await u(p.email,p.password),e?.())}catch(e){b(e.message||"Failed to sign in. Please check your credentials.")}finally{w(!1)}},_=async()=>{w(!0),b(null);try{let s=await d("Sign in to your KSWiFi account");if(!s.success){s.cancelled?b(null):b(s.error||"Biometric authentication failed");return}let t=await m();if(!t){b("No saved credentials found. Please sign in manually.");return}let{data:a,error:r}=await l(t.username,t.password);if(r)throw r;a?.user&&e?.()}catch(e){b(e.message||"Failed to sign in with biometrics.")}finally{w(!1)}},P=(e,s)=>{f(t=>({...t,[e]:s})),b(null)};return(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Sign in to your KSWiFi account"})]}),(0,a.jsxs)("form",{onSubmit:A,children:[(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[v&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-400 bg-red-900/20 border border-red-800 rounded-md",children:v}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu.J,{htmlFor:"email",className:"text-foreground",children:"Email"}),(0,a.jsx)(em.p,{id:"email",type:"email",placeholder:"Enter your email",value:p.email,onChange:e=>P("email",e.target.value),required:!0,disabled:j,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu.J,{htmlFor:"password",className:"text-foreground",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(em.p,{id:"password",type:g?"text":"password",placeholder:"Enter your password",value:p.password,onChange:e=>P("password",e.target.value),required:!0,disabled:j,className:"pr-10 bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-muted text-muted-foreground hover:text-foreground",onClick:()=>y(!g),disabled:j,children:g?(0,a.jsx)(ef.A,{className:"h-4 w-4"}):(0,a.jsx)(eg.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(i.$,{type:"button",variant:"link",size:"sm",onClick:t,disabled:j,className:"px-0 text-primary hover:text-primary/80",children:"Forgot password?"})})]}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[N&&(0,a.jsx)(i.$,{type:"button",variant:"outline",className:"w-full border-primary text-primary hover:bg-primary/10",onClick:_,disabled:j||c,children:j||c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ey.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Authenticating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mr-2 text-lg",children:x()}),"Sign in with ",h()]})}),o.isAvailable&&!N&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"remember-credentials",checked:S,onChange:e=>C(e.target.checked),className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary"}),(0,a.jsxs)(eu.J,{htmlFor:"remember-credentials",className:"text-sm text-muted-foreground cursor-pointer",children:["Enable ",h()," for future sign-ins"]})]}),(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-primary",disabled:j||!p.email||!p.password,children:j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ey.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"}),(0,a.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,a.jsx)(i.$,{type:"button",variant:"link",size:"sm",onClick:s,disabled:j,className:"px-0 text-primary hover:text-primary/80",children:"Sign up"})]})]})]})]})}function ew({onSuccess:e,onSwitchToSignIn:s}){let{signUp:t}=(0,ex.A)(),[l,o]=(0,r.useState)({first_name:"",last_name:"",email:"",phone_number:"",password:"",confirmPassword:""}),[c,d]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),g={length:l.password.length>=8,uppercase:/[A-Z]/.test(l.password),lowercase:/[a-z]/.test(l.password),number:/\d/.test(l.password),special:/[!@#$%^&*(),.?":{}|<>]/.test(l.password)},y=Object.values(g).every(Boolean),j=l.password===l.confirmPassword&&l.confirmPassword.length>0,w=async s=>{if(s.preventDefault(),h(!0),f(null),!y){f("Password does not meet requirements"),h(!1);return}if(!j){f("Passwords do not match"),h(!1);return}try{let{data:s,error:a}=await t(l.email,l.password,{first_name:l.first_name,last_name:l.last_name,phone_number:l.phone_number||void 0});if(a)throw a;s?.user&&e?.()}catch(e){f(e.message||"Failed to create account. Please try again.")}finally{h(!1)}},v=(e,s)=>{o(t=>({...t,[e]:s})),f(null)},b=({met:e,text:s})=>(0,a.jsxs)("div",{className:`flex items-center text-xs ${e?"text-primary":"text-muted-foreground"}`,children:[e?(0,a.jsx)(_.A,{className:"h-3 w-3 mr-1"}):(0,a.jsx)(C.A,{className:"h-3 w-3 mr-1"}),s]});return(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Create Account"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Sign up for your KSWiFi account"})]}),(0,a.jsxs)("form",{onSubmit:w,children:[(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[p&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-400 bg-red-900/20 border border-red-800 rounded-md",children:p}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu.J,{htmlFor:"first_name",className:"text-foreground",children:"First Name"}),(0,a.jsx)(em.p,{id:"first_name",type:"text",placeholder:"First name",value:l.first_name,onChange:e=>v("first_name",e.target.value),required:!0,disabled:x,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu.J,{htmlFor:"last_name",className:"text-foreground",children:"Last Name"}),(0,a.jsx)(em.p,{id:"last_name",type:"text",placeholder:"Last name",value:l.last_name,onChange:e=>v("last_name",e.target.value),required:!0,disabled:x,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu.J,{htmlFor:"email",className:"text-foreground",children:"Email"}),(0,a.jsx)(em.p,{id:"email",type:"email",placeholder:"Enter your email",value:l.email,onChange:e=>v("email",e.target.value),required:!0,disabled:x,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu.J,{htmlFor:"phone_number",className:"text-foreground",children:"Phone Number (Optional)"}),(0,a.jsx)(em.p,{id:"phone_number",type:"tel",placeholder:"Enter your phone number",value:l.phone_number,onChange:e=>v("phone_number",e.target.value),disabled:x,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu.J,{htmlFor:"password",className:"text-foreground",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(em.p,{id:"password",type:c?"text":"password",placeholder:"Create a password",value:l.password,onChange:e=>v("password",e.target.value),required:!0,disabled:x,className:"pr-10 bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-muted text-muted-foreground hover:text-foreground",onClick:()=>d(!c),disabled:x,children:c?(0,a.jsx)(ef.A,{className:"h-4 w-4"}):(0,a.jsx)(eg.A,{className:"h-4 w-4"})})]}),l.password&&(0,a.jsxs)("div",{className:"space-y-1 p-2 bg-muted/20 border border-border rounded",children:[(0,a.jsx)(b,{met:g.length,text:"At least 8 characters"}),(0,a.jsx)(b,{met:g.uppercase,text:"One uppercase letter"}),(0,a.jsx)(b,{met:g.lowercase,text:"One lowercase letter"}),(0,a.jsx)(b,{met:g.number,text:"One number"}),(0,a.jsx)(b,{met:g.special,text:"One special character"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu.J,{htmlFor:"confirmPassword",className:"text-foreground",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(em.p,{id:"confirmPassword",type:m?"text":"password",placeholder:"Confirm your password",value:l.confirmPassword,onChange:e=>v("confirmPassword",e.target.value),required:!0,disabled:x,className:"pr-10 bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!m),disabled:x,children:m?(0,a.jsx)(ef.A,{className:"h-4 w-4"}):(0,a.jsx)(eg.A,{className:"h-4 w-4"})})]}),l.confirmPassword&&(0,a.jsx)("div",{className:`text-xs ${j?"text-primary":"text-red-400"}`,children:j?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(_.A,{className:"h-3 w-3 mr-1"}),"Passwords match"]}):(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(C.A,{className:"h-3 w-3 mr-1"}),"Passwords do not match"]})})]})]}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-primary",disabled:x||!y||!j||!l.first_name||!l.last_name||!l.email,children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ey.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"}),(0,a.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,a.jsx)(i.$,{type:"button",variant:"link",size:"sm",onClick:s,disabled:x,className:"px-0 text-primary hover:text-primary/80",children:"Sign in"})]})]})]})]})}let ev=(0,o.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function eb({onBack:e}){let{resetPassword:s}=(0,ex.A)(),[t,l]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(null),[u,x]=(0,r.useState)(!1),h=async e=>{e.preventDefault(),c(!0),m(null);try{let{data:e,error:a}=await s(t);if(a)throw a;x(!0)}catch(e){m(e.message||"Failed to send reset email. Please try again.")}finally{c(!1)}};return u?(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/20",children:(0,a.jsx)(k.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Check Your Email"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["We've sent a password reset link to ",(0,a.jsx)("strong",{children:t})]})]}),(0,a.jsx)(n.Wu,{className:"text-center text-sm text-muted-foreground",children:(0,a.jsx)("p",{children:"Click the link in the email to reset your password. If you don't see the email, check your spam folder."})}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>{x(!1),l(""),m(null)},className:"w-full border-border text-foreground hover:bg-muted",children:"Send Another Email"}),(0,a.jsxs)(i.$,{variant:"link",onClick:e,className:"w-full text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(ev,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})]})]}):(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Reset Password"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Enter your email address and we'll send you a link to reset your password"})]}),(0,a.jsxs)("form",{onSubmit:h,children:[(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[d&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-400 bg-red-900/20 border border-red-800 rounded-md",children:d}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(eu.J,{htmlFor:"email",className:"text-foreground",children:"Email Address"}),(0,a.jsx)(em.p,{id:"email",type:"email",placeholder:"Enter your email address",value:t,onChange:e=>{l(e.target.value),m(null)},required:!0,disabled:o,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]})]}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-primary",disabled:o||!t,children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ey.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Reset Link..."]}):"Send Reset Link"}),(0,a.jsxs)(i.$,{type:"button",variant:"link",onClick:e,disabled:o,className:"w-full text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(ev,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})]})]})]})}function eN({children:e,fallback:s}){let{user:t,loading:r}=(0,ex.A)();return r?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(ey.A,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?(0,a.jsx)(a.Fragment,{children:e}):s||null}t(8352);let ek=(0,r.createContext)(void 0);function eS({children:e}){let{user:s,loading:t}=(0,ex.A)(),[i,n]=(0,r.useState)({isSecure:!1,hasValidSession:!1,sessionExpiryType:"data-based",dataUsagePercentage:0,lastActivity:new Date,securityLevel:"low",warnings:[]}),l=async()=>{if(!s)return!1;try{return await G.healthCheck(),!0}catch(e){return!1}},o=e=>{let s=[],t="https:"===window.location.protocol;return t||"localhost"===window.location.hostname||s.push("Connection is not secure (HTTP)"),(Date.now()-e.getTime()>864e5&&s.push("Session is old, consider re-authentication"),0===s.length&&t)?"high":s.length<=1?"medium":"low"},c=async()=>{if(t)return;let e=await l(),a=new Date,r=o(a),i=d(),c=0;try{if(s){let e=await G.getDataPacks();if(e.length>0){let s=e.reduce((e,s)=>e+s.total_data_mb,0),t=e.reduce((e,s)=>e+s.used_data_mb,0);c=s>0?t/s*100:0}}}catch(e){}n(s=>({...s,isSecure:e&&"low"!==r,hasValidSession:e,securityLevel:r,warnings:i,sessionExpiryType:"data-based",dataUsagePercentage:c,lastActivity:a}))},d=()=>{let e=[];return"https:"!==window.location.protocol&&"localhost"!==window.location.hostname&&e.push("Use HTTPS for secure connection"),s||e.push("Sign in to access secure features"),Date.now()-i.lastActivity.getTime()>18e5&&e.push("Session has been idle, consider refreshing"),e.push("Only download data packs on trusted networks"),e.push("Verify KSWiFi Connect QR codes before installation"),e};return(0,a.jsx)(ek.Provider,{value:{security:i,refreshSecurity:c,reportActivity:()=>{n(e=>({...e,lastActivity:new Date}))},checkSecurityCompliance:()=>i.isSecure&&i.hasValidSession&&"low"!==i.securityLevel,getSecurityRecommendations:d},children:e})}let eC=(0,o.A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),eA=(0,o.A)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);function e_(){let{security:e,getSecurityRecommendations:s,checkSecurityCompliance:t}=function(){let e=(0,r.useContext)(ek);if(!e)throw Error("useAppSecurity must be used within a SecurityProvider");return e}(),[n,l]=(0,r.useState)(!1),o=s();return(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-card border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(e.securityLevel){case"high":return(0,a.jsx)(eC,{className:"w-4 h-4 text-green-500"});case"medium":return(0,a.jsx)(es,{className:"w-4 h-4 text-yellow-500"});case"low":return(0,a.jsx)(eA,{className:"w-4 h-4 text-red-500"});default:return(0,a.jsx)(es,{className:"w-4 h-4 text-muted-foreground"})}})(),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Security Status"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.hasValidSession?"Session Active":"No Session"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{variant:(()=>{switch(e.securityLevel){case"high":return"default";case"medium":return"secondary";case"low":return"destructive";default:return"outline"}})(),children:e.securityLevel.toUpperCase()}),e.warnings.length>0&&(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>l(!n),className:"text-muted-foreground hover:text-foreground p-1",children:(0,a.jsx)(S,{className:"w-4 h-4"})})]})]}),n&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-border",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"Security Recommendations:"}),(0,a.jsx)("ul",{className:"text-xs space-y-1",children:o.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-primary",children:"•"}),(0,a.jsx)("span",{children:e})]},s))}),(0,a.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:"data-based"===e.sessionExpiryType?(0,a.jsxs)("div",{children:["Session expires when data is exhausted",e.dataUsagePercentage>0&&(0,a.jsxs)("div",{className:"mt-1",children:["Data used: ",e.dataUsagePercentage.toFixed(1),"%"]})]}):(0,a.jsx)("div",{children:"Session active until data exhausted"})})]})]})}let eP=(0,o.A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),eF=(0,o.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),eM=(0,o.A)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),e$=(0,o.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),eq=(0,o.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eR=(0,o.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),eW=(0,o.A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),ez=(0,o.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),eT=(0,o.A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),eI=[{id:"getting-started",name:"Getting Started",icon:m,color:"text-blue-500"},{id:"wifi-data",name:"WiFi & Data",icon:d,color:"text-green-500"},{id:"connect",name:"KSWiFi Connect",icon:P,color:"text-purple-500"},{id:"billing",name:"Billing & Plans",icon:eP,color:"text-orange-500"},{id:"security",name:"Security & Privacy",icon:es,color:"text-red-500"},{id:"troubleshooting",name:"Troubleshooting",icon:eF,color:"text-gray-500"}],eD=[{id:"1",category:"getting-started",question:"How do I get started with KSWiFi?",answer:"Welcome to KSWiFi! To get started: 1) Create your account by signing up with your email, 2) Choose a data pack that suits your needs, 3) Download your internet session when connected to WiFi, 4) Activate your data pack and start browsing. You can also set up Face ID or Touch ID for quick access to your account."},{id:"2",category:"getting-started",question:"What is KSWiFi and how does it work?",answer:"KSWiFi is a modern mobile data management app that lets you purchase data packs, manage KSWiFi Connect profiles, and monitor your internet usage in real-time. Our app provides secure WiFi data pack management with cross-platform support for iOS and Android devices."},{id:"3",category:"getting-started",question:"Do I need to create an account?",answer:"Yes, you need to create a secure account to access all KSWiFi features. This allows us to sync your data packs, usage history, and preferences across all your devices. We use industry-standard security measures to protect your personal information."},{id:"4",category:"wifi-data",question:"How do I download internet sessions?",answer:'To download internet sessions: 1) Connect to WiFi, 2) Go to dashboard, 3) Tap "Download Session", 4) Choose data size, 5) Wait for download. WiFi required for security.'},{id:"5",category:"wifi-data",question:"Why can't I download sessions without WiFi?",answer:"For security and data integrity reasons, internet sessions can only be downloaded over WiFi connections. This ensures a stable download process and prevents interruptions that could corrupt your data pack. Make sure you're connected to a trusted WiFi network before downloading."},{id:"6",category:"wifi-data",question:"How do I monitor my data usage?",answer:'Your data usage is displayed prominently on the main dashboard with a visual meter showing current usage vs. total data. You can view detailed usage statistics, remaining data, and usage history in the "My Sessions" section. The app provides real-time updates as you use your data.'},{id:"7",category:"connect",question:"How do I set up KSWiFi Connect?",answer:'To set up KSWiFi Connect: 1) Tap "Setup Connect" on the dashboard, 2) Generate your Connect Code, 3) Scan the QR code with your phone camera, 4) Tap "Add" when prompted to install the VPN profile, 5) Enable "KSWiFi Connect" in your VPN settings, 6) Enjoy instant global internet access using your session data!'},{id:"8",category:"connect",question:"Which devices support KSWiFi Connect?",answer:"KSWiFi Connect works on all modern smartphones including iPhone (iOS 10+) and Android devices (5.0+). It uses VPN technology that is built into every phone, so no additional apps are required. Simply scan the QR code and your phone will automatically install the connection profile."},{id:"9",category:"connect",question:"Can I use multiple Connect profiles?",answer:"Yes! You can have multiple KSWiFi Connect profiles for different sessions and data allowances. Each profile tracks its own usage and limits. You can switch between profiles in your phone's VPN settings as needed."},{id:"10",category:"billing",question:"What data pack sizes are available?",answer:"You can download free data packs up to 5GB at no cost. For anything exceeding 5GB, you pay ₦800. All data packs expire after 7 days from purchase, but your active sessions won't expire unless you exhaust the data you've downloaded."},{id:"11",category:"billing",question:"When do my data packs expire?",answer:"Data packs expire 7 days after purchase, but your active internet sessions won't expire unless you completely exhaust the data you've downloaded. This means once you download a session, you have full control over when to use it - it won't disappear due to time limits."},{id:"12",category:"billing",question:"Is there free data available?",answer:"Yes! You can download up to 5GB of data completely free. This is perfect for basic browsing, messaging, and light usage. If you need more than 5GB, you can purchase additional data for ₦800."},{id:"13",category:"billing",question:"How much does additional data cost?",answer:"Additional data beyond the free 5GB costs ₦800. This gives you access to larger data packs for heavy usage, streaming, or extended internet sessions. Payment is processed securely through our payment system."},{id:"14",category:"billing",question:"How do I purchase additional data?",answer:'To purchase additional data: 1) Go to dashboard, 2) Tap "Activate Data Pack", 3) Choose pack size, 4) Pay ₦800, 5) Download immediately after payment.'},{id:"15",category:"security",question:"How do I enable Face ID or Touch ID?",answer:'To enable biometric authentication: 1) Sign in with your email and password, 2) Check the "Enable Face ID/Touch ID for future sign-ins" option, 3) Complete your sign-in, 4) Your biometric data will be securely saved for future logins. You can disable this feature anytime in your device settings.'},{id:"16",category:"security",question:"Is my data secure?",answer:"Yes! We use industry-standard security measures including HTTPS encryption, secure authentication via Supabase, Row Level Security (RLS) for database protection, and biometric authentication support. Your personal data and usage information are protected with enterprise-grade security."},{id:"17",category:"security",question:"What information do you collect?",answer:"We only collect essential information needed to provide our service: your email address, name, data usage statistics, and device information for KSWiFi Connect provisioning. We never sell your personal data and only use it to improve your KSWiFi experience."},{id:"18",category:"troubleshooting",question:'My app shows "No Internet Connection" but I\'m connected',answer:"This usually indicates a connectivity issue. Try: 1) Check if you're connected to a working WiFi network, 2) Restart the app, 3) Check your device's internet settings, 4) Try connecting to a different WiFi network, 5) Contact support if the issue persists."},{id:"19",category:"troubleshooting",question:"My KSWiFi Connect QR code won't scan",answer:"If your QR code won't scan: 1) Ensure your device camera has permission to access the camera, 2) Clean your camera lens, 3) Make sure you're in good lighting, 4) Try generating a new QR code from the app, 5) You can also manually enter the activation code if scanning fails."},{id:"20",category:"troubleshooting",question:"I can't download internet sessions",answer:"If you can't download sessions: 1) Ensure you're connected to WiFi (cellular connections won't work), 2) Check that you have sufficient storage space, 3) Verify your account has active data packs, 4) Try restarting the app, 5) Contact support if downloads continue to fail."}];function eB(){let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(null),[o,c]=(0,r.useState)(""),d=eD.filter(s=>{let t=""===o||s.question.toLowerCase().includes(o.toLowerCase())||s.answer.toLowerCase().includes(o.toLowerCase()),a=null===e||s.category===e;return t&&a}),m=e=>eD.filter(s=>s.category===e).length;return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(eM,{className:"w-8 h-8 text-primary mr-3"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Help Center"})]}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg",children:"Find answers to common questions about KSWiFi"})]}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(e$,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),(0,a.jsx)(em.p,{type:"text",placeholder:"Search for help articles...",value:o,onChange:e=>c(e.target.value),className:"pl-10 text-lg h-12"})]})})}),!o&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Browse by Category"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:eI.map(t=>{let r=t.icon;return(0,a.jsxs)(i.$,{variant:e===t.id?"default":"outline",className:"h-auto p-3 md:p-4 flex flex-col items-center space-y-2",onClick:()=>s(e===t.id?null:t.id),children:[(0,a.jsx)(r,{className:`w-6 h-6 md:w-8 md:h-8 ${t.color}`}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-xs md:text-sm",children:t.name}),(0,a.jsxs)("div",{className:"text-xs md:text-sm text-muted-foreground",children:[m(t.id)," articles"]})]})]},t.id)})})})]}),(0,a.jsx)("div",{className:"space-y-4",children:d.length>0?(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold",children:[eI.find(s=>s.id===e)?.name,(0,a.jsxs)("span",{className:"text-muted-foreground ml-2",children:["(",d.length," articles)"]})]}),(0,a.jsx)(i.$,{variant:"ghost",onClick:()=>s(null),className:"text-muted-foreground",children:"Show All Categories"})]}),d.map(e=>(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-0",children:[(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full p-4 md:p-6 h-auto justify-between text-left",onClick:()=>l(t===e.id?null:e.id),children:[(0,a.jsx)("span",{className:"font-medium text-foreground pr-2 md:pr-4 text-sm md:text-base",children:e.question}),t===e.id?(0,a.jsx)(eq,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}):(0,a.jsx)(eR,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"})]}),t===e.id&&(0,a.jsx)("div",{className:"px-4 md:px-6 pb-4 md:pb-6 pt-0",children:(0,a.jsx)("div",{className:"text-muted-foreground leading-relaxed text-sm md:text-base",children:e.answer})})]})},e.id))]}):(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-12 text-center",children:[(0,a.jsx)(e$,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No results found"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Try adjusting your search terms or browse by category"})]})})}),(0,a.jsxs)(n.Zp,{className:"border-primary/20",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center",children:[(0,a.jsx)(eW,{className:"w-5 h-5 mr-2 text-primary"}),"Still need help?"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Can't find what you're looking for? Our support team is here to help."}),(0,a.jsxs)(i.$,{variant:"outline",className:"h-auto p-3 md:p-4 flex items-center space-x-2 md:space-x-3 mx-auto max-w-md",children:[(0,a.jsx)(ez,{className:"w-4 h-4 md:w-5 md:h-5 text-primary flex-shrink-0"}),(0,a.jsxs)("div",{className:"text-left min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-semibold text-sm md:text-base",children:"Email Support"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground truncate",children:"support@kswifi.app"})]}),(0,a.jsx)(eT,{className:"w-3 h-3 md:w-4 md:h-4 flex-shrink-0"})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center pt-2",children:"Response time: Usually within 2-4 hours"})]})]})]})}let eE=(0,o.A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),eO=(0,o.A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),eK=(0,o.A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),eL=(0,o.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),eU=(0,o.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),eZ=(0,o.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),eH=[{icon:es,title:"Secure Authentication",description:"Advanced security with biometric authentication support (Face ID/Touch ID) for your peace of mind.",color:"text-red-500"},{icon:m,title:"Cross-Platform Mobile",description:"Available on both iOS and Android devices for seamless mobile experience anywhere.",color:"text-blue-500"},{icon:d,title:"Real-Time WiFi Detection",description:"Smart network detection with connection monitoring and signal strength tracking.",color:"text-green-500"},{icon:eE,title:"KSWiFi Connect",description:"Instant VPN profile generation with QR code setup for global internet access anywhere.",color:"text-purple-500"},{icon:eO,title:"Data Usage Monitoring",description:"Real-time data consumption tracking with detailed analytics and usage insights.",color:"text-orange-500"},{icon:Q,title:"Background Monitoring",description:"Automatic data balance checks and smart notifications for low balance alerts.",color:"text-yellow-500"}];function eV(){return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-6 md:space-y-8",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary rounded-xl flex items-center justify-center",children:(0,a.jsx)(d,{className:"w-6 h-6 text-primary-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"KSWiFi"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Version 1.0"})]})]}),(0,a.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,a.jsx)("p",{className:"text-lg md:text-xl text-muted-foreground leading-relaxed",children:"Your ultimate companion for seamless internet connectivity. Download data packs on WiFi, activate anywhere with KSWiFi Connect, and stay connected wherever life takes you."})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center text-lg md:text-xl",children:[(0,a.jsx)(eK,{className:"w-5 h-5 mr-2 text-primary"}),"Our Mission"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("p",{className:"text-muted-foreground leading-relaxed text-sm md:text-base",children:"At KSWiFi, we believe that staying connected shouldn't be complicated or expensive. Our mission is to provide you with the most convenient, secure, and affordable way to access the internet anywhere in the world. Whether you're traveling, working remotely, or just need reliable backup connectivity, we've got you covered."})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-lg md:text-xl",children:"What Makes KSWiFi Special"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:eH.map((e,s)=>{let t=e.icon;return(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 md:p-4 rounded-lg bg-muted/30",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(t,{className:`w-6 h-6 md:w-8 md:h-8 ${e.color}`})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-2 text-sm md:text-base",children:e.title}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs md:text-sm leading-relaxed",children:e.description})]})]},s)})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-lg md:text-xl",children:"App Information"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 text-center",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xl md:text-2xl font-bold text-primary",children:"1.0"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"Current Version"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xl md:text-2xl font-bold text-primary",children:"2025"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"Year Released"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xl md:text-2xl font-bold text-primary",children:"iOS & Android"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"Platforms"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xl md:text-2xl font-bold text-primary",children:"24/7"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"Support Available"})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-lg md:text-xl",children:"How KSWiFi Works"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary font-bold text-lg",children:"1"})}),(0,a.jsx)("h3",{className:"font-semibold text-sm md:text-base",children:"Download Data Packs"}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Connect to WiFi and download your data packs for offline use"})]}),(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary font-bold text-lg",children:"2"})}),(0,a.jsx)("h3",{className:"font-semibold text-sm md:text-base",children:"Activate Connect"}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Scan the QR code to activate your KSWiFi Connect profile on any device"})]}),(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary font-bold text-lg",children:"3"})}),(0,a.jsx)("h3",{className:"font-semibold text-sm md:text-base",children:"Stay Connected"}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Enjoy seamless internet connectivity anywhere you go"})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center text-lg md:text-xl",children:[(0,a.jsx)(es,{className:"w-5 h-5 mr-2 text-primary"}),"Privacy & Security"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-muted-foreground text-sm md:text-base",children:"Your privacy and security are our top priorities. KSWiFi uses industry-standard encryption and security measures to protect your data and ensure your online activities remain private."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(es,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-sm md:text-base",children:"End-to-End Encryption"}),(0,a.jsx)("div",{className:"text-muted-foreground text-xs md:text-sm",children:"All your data is encrypted in transit and at rest"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(es,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-sm md:text-base",children:"Biometric Authentication"}),(0,a.jsx)("div",{className:"text-muted-foreground text-xs md:text-sm",children:"Secure login with Face ID, Touch ID, or fingerprint"})]})]})]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center text-lg md:text-xl",children:[(0,a.jsx)(eL,{className:"w-5 h-5 mr-2 text-primary"}),"Support & Community"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-muted-foreground text-sm md:text-base",children:"Need help or have questions? Our dedicated support team is here to assist you 24/7. We're committed to providing you with the best possible experience."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(i.$,{variant:"outline",className:"h-auto p-3 md:p-4 flex items-center space-x-2 md:space-x-3",children:[(0,a.jsx)(ez,{className:"w-4 h-4 md:w-5 md:h-5 text-primary flex-shrink-0"}),(0,a.jsxs)("div",{className:"text-left min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-semibold text-sm md:text-base",children:"Email Support"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"support@kswifi.app"})]}),(0,a.jsx)(eT,{className:"w-3 h-3 md:w-4 md:h-4 flex-shrink-0"})]}),(0,a.jsxs)(i.$,{variant:"outline",className:"h-auto p-3 md:p-4 flex items-center space-x-2 md:space-x-3",children:[(0,a.jsx)(eU,{className:"w-4 h-4 md:w-5 md:h-5 text-primary flex-shrink-0"}),(0,a.jsxs)("div",{className:"text-left min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-semibold text-sm md:text-base",children:"Phone Support"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"Available 24/7"})]}),(0,a.jsx)(eT,{className:"w-3 h-3 md:w-4 md:h-4 flex-shrink-0"})]})]})]})]}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4 md:p-6",children:(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)(eZ,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm md:text-base text-muted-foreground",children:"Made with love for seamless connectivity"})]}),(0,a.jsxs)("div",{className:"text-xs md:text-sm text-muted-foreground",children:["\xa9 2025 KSWiFi. All rights reserved.",(0,a.jsx)("br",{className:"md:hidden"}),(0,a.jsx)("span",{className:"hidden md:inline",children:" • "}),"Connecting you to the world, one data pack at a time."]})]})})})]})}let eG=(0,o.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function eY({isOpen:e,onClose:s,connectData:t,esimData:l}){let o=t||l,[c,d]=(0,r.useState)("qr"),[u,x]=(0,r.useState)(null);if(!e||!o)return null;let h=async(e,s)=>{try{await navigator.clipboard.writeText(e),x(s),Y.oR.success(`${s} copied to clipboard!`),setTimeout(()=>x(null),2e3)}catch(e){Y.oR.error("Failed to copy to clipboard")}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-md bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(m,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"KSWiFi Connect Ready!"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[o.bundle_size_mb/1024,"GB Internet Access"]})]})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(C.A,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"p-6 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600 mb-2",children:[(0,a.jsx)(k.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Generation Successful"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:o.message})]}),(0,a.jsx)("div",{className:"border-b",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{onClick:()=>d("qr"),className:`flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors ${"qr"===c?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,a.jsx)(ec,{className:"w-4 h-4 inline mr-2"}),"QR Code"]}),(0,a.jsx)("button",{onClick:()=>d("manual"),className:`flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors ${"manual"===c?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Manual Setup"})]})}),(0,a.jsx)("div",{className:"p-6",children:"qr"===c?(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg border-2 border-dashed border-gray-200",children:(0,a.jsx)("img",{src:o.qr_code_image,alt:"KSWiFi Connect QR Code",className:"w-48 h-48 mx-auto"})}),(0,a.jsxs)("div",{className:"text-left space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Setup Instructions:"}),(0,a.jsx)("ol",{className:"text-sm text-gray-600 space-y-1",children:o.manual_setup.instructions.map((e,s)=>(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsxs)("span",{className:"text-blue-600 font-medium",children:[s+1,"."]}),(0,a.jsx)("span",{children:e})]},s))})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsxs)(i.$,{onClick:()=>{try{let e=document.createElement("a");e.href=o.qr_code_image,e.download=`kswifi-connect-${o.esim_id.slice(0,8)}.png`,e.click(),Y.oR.success("QR code downloaded!")}catch(e){Y.oR.error("Failed to download QR code")}},className:"flex-1",size:"sm",children:[(0,a.jsx)(P,{className:"w-4 h-4 mr-2"}),"Download QR"]}),(0,a.jsxs)(i.$,{variant:"outline",onClick:()=>h(o.activation_code,"Activation Code"),className:"flex-1",size:"sm",children:["Activation Code"===u?(0,a.jsx)(k.A,{className:"w-4 h-4 mr-2 text-green-500"}):(0,a.jsx)(eG,{className:"w-4 h-4 mr-2"}),"Copy Code"]})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Activation Code"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"flex-1 p-2 bg-gray-50 rounded text-xs font-mono break-all",children:o.manual_setup.activation_code}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>h(o.manual_setup.activation_code,"Activation Code"),children:"Activation Code"===u?(0,a.jsx)(k.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(eG,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"APN"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"flex-1 p-2 bg-gray-50 rounded text-xs",children:o.manual_setup.apn}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>h(o.manual_setup.apn,"APN"),children:"APN"===u?(0,a.jsx)(k.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(eG,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Username"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"flex-1 p-2 bg-gray-50 rounded text-xs",children:o.manual_setup.username}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>h(o.manual_setup.username,"Username"),children:"Username"===u?(0,a.jsx)(k.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(eG,{className:"w-4 h-4"})})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Password"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"flex-1 p-2 bg-gray-50 rounded text-xs",children:o.manual_setup.password}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>h(o.manual_setup.password,"Password"),children:"Password"===u?(0,a.jsx)(k.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(eG,{className:"w-4 h-4"})})]})]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Manual Setup Steps:"}),(0,a.jsx)("ol",{className:"text-sm text-gray-600 space-y-1",children:o.manual_setup.instructions.map((e,s)=>(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsxs)("span",{className:"text-blue-600 font-medium",children:[s+1,"."]}),(0,a.jsx)("span",{children:e})]},s))})]})]})}),(0,a.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-amber-600",children:[(0,a.jsx)(en,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-xs",children:"Keep this information safe. You'll need it to set up your KSWiFi Connect profile."})]})})]})})}let eJ=(0,o.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),eQ=(0,o.A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),eX=(0,o.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),e0=(0,o.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function e1(){let{user:e,loading:s,signOut:t}=(0,ex.A)(),{profile:o,loading:c}=function(){let{user:e,session:s}=(0,ex.A)(),[t,a]=(0,r.useState)(null),[i,n]=(0,r.useState)(!0),[l,o]=(0,r.useState)(null);return{profile:t,loading:i,error:l,updateProfile:async s=>{try{o(null);let{data:t,error:r}=await Z.N.from("users").update(s).eq("id",e?.id).select().single();if(r)throw r;return a(t),{data:t,error:null}}catch(e){return o(e.message),{data:null,error:e}}},refreshProfile:async()=>{try{n(!0),o(null);let{data:s,error:t}=await Z.N.from("users").select("*").eq("id",e?.id).single();if(t)throw t;a(s)}catch(e){o(e.message)}finally{n(!1)}}}}(),d=y(),[u,x]=(0,r.useState)("onboarding"),[h,p]=(0,r.useState)("signin"),[f,g]=(0,r.useState)(!1),[v,b]=(0,r.useState)({type:"info",title:"",message:"",isVisible:!1}),[k,S]=(0,r.useState)(!0),[C,_]=(0,r.useState)([]),[M,$]=(0,r.useState)([]),[q,R]=(0,r.useState)(null),[W,z]=(0,r.useState)(!1),[T,I]=(0,r.useState)(0),[D,B]=(0,r.useState)(!1),[E,O]=(0,r.useState)(null),K=async()=>{if(e)try{let e=await G.getDataPacks();_(e);let s=await G.getConnectProfiles();$(s);let t=await G.getDataPackStats();R(t)}catch(e){Y.oR.error("Failed to load user data")}},L=o?{name:`${o.first_name} ${o.last_name}`,email:o.email,currentData:q?.used_data_mb||0,totalData:q?.total_data_mb||0}:e?{name:e.user_metadata?.first_name&&e.user_metadata?.last_name?`${e.user_metadata.first_name} ${e.user_metadata.last_name}`:e.email?.split("@")[0]||"User",email:e.email||"",currentData:0,totalData:0}:{name:"Sign in to continue",email:"",currentData:0,totalData:0},U=C.length>0?C.map(e=>({size:e.name,date:new Date(e.created_at).toLocaleDateString(),used:`${e.used_data_mb}MB`,status:e.status})):[],H=(e,s,t)=>{b({type:e,title:s,message:t,isVisible:!0})},V=async()=>{try{await t(),x("onboarding"),_([]),$([]),R(null),Y.oR.success("Signed out successfully")}catch(e){Y.oR.error("Error signing out")}},J=async()=>{if(!e){H("warning","Sign In Required","Please sign in to setup KSWiFi Connect");return}try{let e=(await G.getMySessions()).filter(e=>"active"===e.status);if(0===e.length){H("info","No Active Sessions","Please activate a data pack first, then generate Connect Code");return}let s=e[0];await Q(s.id,s.data_mb)}catch(e){H("warning","Connect Setup Failed",e.message||"Failed to setup KSWiFi Connect")}},Q=async(e,s)=>{try{let t=Y.oR.loading("Generating Connect Code...",{description:"Please wait while we prepare your KSWiFi Connect profile"}),a=await G.generateConnect(e,s);if(Y.oR.dismiss(t),a.success)O(a),B(!0),Y.oR.success("Connect Code Generated!",{description:"Scan the QR code to activate your KSWiFi Connect profile"});else throw Error("Connect Code generation failed")}catch(e){Y.oR.error("Failed to generate Connect Code",{description:e?.message||"Please try again later"})}},X=async()=>{if(!e){H("warning","Sign In Required","Please sign in to activate data packs");return}try{let e=await G.getMySessions(),s=e.filter(e=>e.can_activate),t=e.filter(e=>"active"===e.status);if(t.length>0){let e=t[0];H("info","Session Already Active",`You have an active ${e.data_mb}MB session. Generate Connect Code to use it for internet access.`);return}if(0===s.length){H("info","No Data Packs Available","Download a session first, then activate it here");return}if(1===s.length){let e=s[0];await G.activateSession(e.id),I(e=>e+1),H("success","Data Pack Activated!",`${e.data_mb}MB session is now active`)}else H("info","Multiple Sessions Available","Check 'My Sessions' below to choose which one to activate")}catch(e){H("warning","Activation Failed",e.message||"Failed to activate data pack")}},ee=async s=>{if(g(!1),!e){H("warning","Authentication Required","Please sign in first");return}try{await G.createDataPack({bundle_name:s.size,validity_days:30}),H("success","Data Credits Purchased!",`${s.size} credits added to your account`),await K()}catch(e){H("warning","Purchase Failed",e.message||"Failed to purchase data credits")}},et=()=>{x("dashboard"),Y.oR.success(`Welcome ${o?.first_name||"back"}!`)},er=()=>(0,a.jsxs)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute top-4 left-4",children:(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{p("signin"),x("onboarding")},className:"text-muted-foreground hover:text-foreground",children:"← Back"})}),"signin"===h&&(0,a.jsx)(ej,{onSuccess:et,onSwitchToSignUp:()=>p("signup"),onForgotPassword:()=>p("reset-password")}),"signup"===h&&(0,a.jsx)(ew,{onSuccess:et,onSwitchToSignIn:()=>p("signin")}),"reset-password"===h&&(0,a.jsx)(eb,{onBack:()=>p("signin")})]});return s?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?(0,a.jsx)(eS,{children:(0,a.jsxs)(eN,{fallback:er(),children:["dashboard"===u&&(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-card shadow-2xl min-h-screen border-x border-border",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-card to-muted text-foreground p-6 rounded-b-lg border-b border-border",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"KSWiFi"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Welcome, ",L.name.split(" ")[0]]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>x("settings"),className:"text-muted-foreground hover:bg-muted/50 hover:text-foreground",children:(0,a.jsx)(eF,{className:"w-5 h-5"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:V,className:"text-muted-foreground hover:bg-muted/50 hover:text-foreground",children:(0,a.jsx)(eJ,{className:"w-5 h-5"})})]})]}),(0,a.jsx)(j,{}),(0,a.jsx)(e_,{})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(l,{currentData:L.currentData,totalData:L.totalData,unit:"GB"})}),(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(w,{icon:P,label:"Download Session",description:d.isConnected?"Ready to Download":"Internet Required",onClick:()=>{if(!d.isConnected||!d.isOnline){H("warning","Internet Required","Connect to the internet to download sessions");return}if(!e){H("warning","Sign In Required","Please sign in to download sessions");return}z(!0)}}),(0,a.jsx)(w,{icon:eo,label:"Activate Data Pack",description:"Use Downloaded",onClick:X})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(w,{icon:ec,label:"Setup Connect",description:"Generate Connect Code",onClick:J,variant:"secondary"})})]}),(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Recent Activity"}),(0,a.jsxs)(i.$,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(eQ,{className:"w-4 h-4 mr-1"}),"View All"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:U.slice(0,3).map((e,s)=>(0,a.jsx)(N,{...e},s))})]}),(0,a.jsx)("div",{className:"px-6 pb-6",children:(0,a.jsx)(ed,{refreshTrigger:T})})]}),W&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-background rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Download Internet Session"}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>z(!1),className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(ea,{onSessionDownload:e=>{z(!1),I(e=>e+1),Y.oR.success("Session download started!",{description:"Your internet session is being prepared"})}})})]})}),f&&(0,a.jsx)(F,{onSelect:ee,onCancel:()=>g(!1)}),v.isVisible&&(0,a.jsx)(A,{type:v.type,title:v.title,message:v.message,isVisible:v.isVisible,onClose:()=>b(e=>({...e,isVisible:!1}))}),(0,a.jsx)(eY,{isOpen:D,onClose:()=>{B(!1),O(null)},connectData:E})]}),"settings"===u&&(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-card shadow-2xl min-h-screen border-x border-border",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary to-kswifi-cyan-dark text-primary-foreground p-6 rounded-b-3xl",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>x("dashboard"),className:"text-primary-foreground hover:bg-black/20",children:"←"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:"Profile"}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsx)("div",{className:"flex items-center justify-between p-3 bg-muted/20 border border-border rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(eX,{className:"w-5 h-5 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:L.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:L.email})]})]})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:"Security"}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/20 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(es,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("span",{className:"text-foreground",children:"Enhanced Security"})]}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>S(!k),className:"border-border text-foreground hover:bg-muted",children:k?"Enabled":"Enable"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:"Support"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start p-3 text-foreground hover:bg-muted",onClick:()=>x("help"),children:[(0,a.jsx)(eM,{className:"w-5 h-5 mr-3 text-primary"}),"Help Center"]}),(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start p-3 text-foreground hover:bg-muted",onClick:()=>x("about"),children:[(0,a.jsx)(e0,{className:"w-5 h-5 mr-3 text-primary"}),"About KSWiFi"]})]})]}),(0,a.jsx)("div",{className:"pt-6 border-t border-border",children:(0,a.jsxs)(i.$,{variant:"destructive",className:"w-full bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:V,children:[(0,a.jsx)(eJ,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]})]})}),"help"===u&&(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-card shadow-2xl min-h-screen border-x border-border",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary to-kswifi-cyan-dark text-primary-foreground p-6 rounded-b-3xl",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>x("settings"),className:"text-primary-foreground hover:bg-black/20",children:"←"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Help Center"})]})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(eB,{})})]})}),"about"===u&&(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-card shadow-2xl min-h-screen border-x border-border",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary to-kswifi-cyan-dark text-primary-foreground p-6 rounded-b-3xl",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>x("settings"),className:"text-primary-foreground hover:bg-black/20",children:"←"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"About KSWiFi"})]})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(eV,{})})]})})]})}):"onboarding"!==u||"signup"===h||"reset-password"===h?er():(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-md text-center p-8 bg-card border-border",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse-cyan",children:(0,a.jsx)(m,{className:"w-10 h-10 text-primary-foreground"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"KSWiFi"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:"KSWiFi Connect - Global Internet Access"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Download internet sessions on WiFi, access globally via KSWiFi Connect"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(i.$,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",size:"lg",onClick:()=>{p("signup"),x("dashboard")},children:"Get Started"}),(0,a.jsx)(i.$,{variant:"outline",className:"w-full border-border text-foreground hover:bg-muted",size:"lg",onClick:()=>{p("signin"),x("dashboard")},children:"Sign In"})]})]})})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[20,686,607],()=>t(2733));module.exports=a})();