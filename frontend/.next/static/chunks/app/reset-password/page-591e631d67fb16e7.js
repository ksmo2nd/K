(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{537:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var t=r(3365),n=r(1521),a=r(627),i=r(6333),c=r(4428),d=r(8299);function l(){let e=(0,a.useRouter)(),[s,r]=(0,n.useState)(!1),[c,l]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async()=>{try{let s=window.location.hash.substring(1),t=new URLSearchParams(s),n=t.get("access_token"),a=t.get("refresh_token"),i=t.get("type");if("recovery"===i&&n&&a){let{data:s,error:t}=await d.N.auth.setSession({access_token:n,refresh_token:a});t?e.push("/?error=invalid_reset_link"):r(!0)}else e.push("/?error=invalid_reset_link")}catch(s){e.push("/?error=reset_error")}finally{l(!1)}})()},[e]),c)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Verifying reset link..."})]})}):s?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:(0,t.jsx)(i.j,{onSuccess:()=>{e.push("/?message=password_updated")}})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Invalid Reset Link"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"This password reset link is invalid or has expired."}),(0,t.jsx)("button",{onClick:()=>e.push("/"),className:"bg-primary text-primary-foreground px-4 py-2 rounded hover:bg-primary/90",children:"Go Back"})]})})}function o(){return(0,t.jsx)(c.AuthProvider,{children:(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}),children:(0,t.jsx)(l,{})})})}},7625:(e,s,r)=>{Promise.resolve().then(r.bind(r,537))}},e=>{var s=s=>e(e.s=s);e.O(0,[96,333,358],()=>s(7625)),_N_E=e.O()}]);