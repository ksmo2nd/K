(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3405:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eU});var a=t(3365),r=t(1521),i=t(8600),n=t(6170);function l(e){let{currentData:s,totalData:t,unit:r}=e,i=s/t*100,n=2*Math.PI*45,l=n,o=n-i/100*n;return(0,a.jsxs)("div",{className:"relative w-48 h-48 mx-auto",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-muted opacity-20"}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:l,strokeDashoffset:o,className:"text-primary transition-all duration-1000 ease-out",style:{filter:"drop-shadow(0 0 8px #00CFE8)"}})]}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-foreground",children:s.toFixed(1)}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["of ",t," ",r]}),(0,a.jsxs)("div",{className:"text-xs text-primary mt-1",children:[i.toFixed(0),"% used"]})]})]})}var o=t(3022),c=t(3616),d=t(2259),m=t(7265),u=t(1181),x=t(2934),h=t(9671);let p=(0,x.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border"}},defaultVariants:{variant:"default"}});function f(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,h.cn)(p({variant:t}),s),...r})}function g(){let[e,s]=(0,r.useState)({isConnected:!1,networkName:void 0,signalStrength:void 0,connectionType:"none",isOnline:navigator.onLine});(0,r.useEffect)(()=>{t();let e=()=>{t()},a=()=>{s(e=>({...e,isConnected:!1,isOnline:!1,connectionType:"none"}))};if(window.addEventListener("online",e),window.addEventListener("offline",a),"connection"in navigator){let s=navigator.connection,r=()=>{t()};return s.addEventListener("change",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a),s.removeEventListener("change",r)}}return()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}},[]);let t=async()=>{if(!navigator.onLine){s({isConnected:!1,networkName:void 0,signalStrength:void 0,connectionType:"none",isOnline:!1});return}let e="wifi",t="Connected Network";if("connection"in navigator){let s=navigator.connection;if(s.type)switch(s.type){case"wifi":e="wifi",t="WiFi Network";break;case"cellular":e="cellular",t="Cellular Network";break;case"ethernet":e="ethernet",t="Ethernet Connection";break;default:e="wifi",t="Connected Network"}else e="wifi",t="WiFi Network"}s({isConnected:!0,networkName:t,signalStrength:a(),connectionType:e,isOnline:!0})},a=()=>{if("connection"in navigator){let e=navigator.connection;if(e.downlink){let s=e.downlink;return s>10?4:s>5?3:s>1?2:1}}};return e}function w(e){let{isConnected:s,networkName:t}=e,r=g(),i=void 0!==s?s:r.isConnected,n=void 0!==t?t:r.networkName,l=r.connectionType,x=r.signalStrength,h=r.isOnline,p=()=>{if(!i||!h)return(0,a.jsx)(u.A,{className:"w-5 h-5 text-muted-foreground"});switch(l){case"wifi":return(0,a.jsx)(m.A,{className:"w-5 h-5 text-primary"});case"cellular":return(0,a.jsx)(d.A,{className:"w-5 h-5 text-primary"});case"ethernet":return(0,a.jsx)(o.A,{className:"w-5 h-5 text-primary"});default:return(0,a.jsx)(c.A,{className:"w-5 h-5 text-primary"})}},w=()=>{if(!i||!h)return"No Internet Connection";switch(l){case"wifi":return"Connected via WiFi";case"cellular":return"Connected via Cellular";case"ethernet":return"Connected via Ethernet";default:return"Connected to Internet"}},y=()=>x&&i?(0,a.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"w-1 h-3 rounded-sm ".concat(e<=x?"bg-primary":"bg-muted-foreground/30")},e))}):null;return(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-card border",children:[p(),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:w()}),n&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[n,y()]}),!h&&(0,a.jsx)("div",{className:"text-xs text-destructive",children:"Check your internet connection"})]}),(0,a.jsx)(f,{variant:i&&h?"default":"secondary",children:i&&h?"Online":"Offline"})]})}function y(e){let{icon:s,label:t,description:r,onClick:n,disabled:l=!1,variant:o="default"}=e;return(0,a.jsxs)(i.$,{onClick:n,disabled:l,variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2 text-left bg-card border-border text-foreground hover:bg-muted/50 transition-colors",children:[(0,a.jsx)(s,{className:"w-8 h-8"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"font-semibold",children:t}),(0,a.jsx)("div",{className:"text-xs opacity-80",children:r})]})]})}var j=t(2990),v=t(940);function b(e){let{size:s,date:t,used:r,status:i}=e,l={completed:"text-muted-foreground",active:"text-primary",expired:"text-destructive"};return(0,a.jsx)(n.Zp,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:s}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(j.A,{className:"w-3 h-3"}),t]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Used: ",r]}),(0,a.jsx)("div",{className:"text-xs capitalize ".concat(l[i]),children:i})]})]})})}var N=t(447),k=t(5842),S=t(2196);function A(e){let{type:s,title:t,message:n,isVisible:l,onClose:o,autoClose:c=!0,duration:d=3e3}=e;if((0,r.useEffect)(()=>{if(l&&c){let e=setTimeout(()=>{o()},d);return()=>clearTimeout(e)}},[l,c,d,o]),!l)return null;let u=()=>{switch(s){case"success":return(0,a.jsx)(k.A,{className:"w-5 h-5 text-green-400"});case"warning":return(0,a.jsx)(N.A,{className:"w-5 h-5 text-yellow-400"});case"info":return(0,a.jsx)(m.A,{className:"w-5 h-5 text-blue-400"})}},x=()=>{switch(s){case"success":return"bg-green-900/20 border-green-500/30";case"warning":return"bg-yellow-900/20 border-yellow-500/30";case"info":return"bg-blue-900/20 border-blue-500/30"}};return(0,a.jsx)("div",{className:"fixed top-4 left-4 right-4 z-50 animate-in slide-in-from-top-2",children:(0,a.jsx)("div",{className:"p-4 rounded-lg border backdrop-blur-sm ".concat(x()),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[u(),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-foreground",children:t}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:n})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:o,className:"h-6 w-6 p-0",children:(0,a.jsx)(S.A,{className:"w-3 h-3"})})]})})})}var C=t(1e3),_=t(9491);function F(e){let{onSelect:s,onCancel:t}=e,[l,o]=(0,r.useState)(null),c=[{size:"1GB",price:"₦500",price_ngn:500,validity:"30 days"},{size:"5GB",price:"₦2,000",price_ngn:2e3,validity:"30 days",popular:!0},{size:"10GB",price:"₦3,500",price_ngn:3500,validity:"30 days"},{size:"20GB",price:"₦6,000",price_ngn:6e3,validity:"30 days"},{size:"Unlimited",price:"₦800",price_ngn:800,validity:"7 days",isUnlimited:!0,plan_type:"unlimited",popular:!0}];return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-sm bg-background rounded-lg p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Buy Data Credits"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Buy data credits to use later with eSIM"})]}),(0,a.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,a.jsxs)(n.Zp,{className:"p-4 cursor-pointer transition-all relative ".concat((null==l?void 0:l.size)===e.size?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onClick:()=>o(e),children:[e.popular&&(0,a.jsx)("div",{className:"absolute -top-2 left-4 bg-primary text-primary-foreground text-xs px-2 py-1 rounded",children:"Popular"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-foreground",children:[e.size,e.isUnlimited&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"UNLIMITED"})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.price," • Valid for ",e.validity]})]}),(null==l?void 0:l.size)===e.size&&(0,a.jsx)(C.A,{className:"w-5 h-5 text-primary"})]})]},e.size))}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:t,className:"flex-1 bg-transparent",children:"Cancel"}),(0,a.jsxs)(i.$,{onClick:()=>l&&s(l),disabled:!l,className:"flex-1 bg-primary text-primary-foreground hover:bg-primary/90",children:[(0,a.jsx)(_.A,{className:"w-4 h-4 mr-2"}),"Buy Credits"]})]})]})})}var W=t(1172);let P=r.forwardRef((e,s)=>{let{className:t,value:r,...i}=e;return(0,a.jsx)(W.bL,{ref:s,className:(0,h.cn)("relative h-2 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,a.jsx)(W.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});P.displayName=W.bL.displayName;var R=t(8299);let I=t(4089).env.NEXT_PUBLIC_BACKEND_URL||"https://your-backend-url.com";class E{async getCurrentUserId(){let{data:{session:e},error:s}=await R.N.auth.getSession();if(s)throw s;if(!(null==e?void 0:e.user))throw Error("No user logged in");return e.user.id}async getAuthToken(){let{data:{session:e},error:s}=await R.N.auth.getSession();if(s)throw s;if(!(null==e?void 0:e.access_token))throw Error("No auth token available");return e.access_token}async makeBackendRequest(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let t=await this.getAuthToken(),a=await fetch("".concat(I,"/api").concat(e),{...s,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t),...s.headers}});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.detail||"HTTP ".concat(a.status,": ").concat(a.statusText))}return await a.json()}catch(e){throw e}}async makeOptionalAuthRequest(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let t={"Content-Type":"application/json",...s.headers};try{let e=await this.getAuthToken();"object"!=typeof t||null===t||Array.isArray(t)||(t.Authorization="Bearer ".concat(e))}catch(e){}let a=await fetch("".concat(I,"/api").concat(e),{...s,headers:t});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.detail||"HTTP ".concat(a.status,": ").concat(a.statusText))}return await a.json()}catch(e){throw e}}async signup(e){var s,t,a;let{data:r,error:i}=await R.N.auth.signUp({email:e.email,password:e.password,options:{data:{first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number}}});if(i)throw i;if(r.user){let{error:s}=await R.N.from("users").insert({id:r.user.id,email:e.email,first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number,status:"active",is_admin:!1});if(s)throw s;try{await fetch("".concat(I,"/api/auth/webhook/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:r.user.id})})}catch(e){}}return{access_token:(null===(s=r.session)||void 0===s?void 0:s.access_token)||"",token_type:"bearer",expires_in:(null===(t=r.session)||void 0===t?void 0:t.expires_in)||3600,user:{id:(null===(a=r.user)||void 0===a?void 0:a.id)||"",email:e.email,first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number,status:"active",is_admin:!1,created_at:new Date().toISOString()}}}async login(e,s){var t,a,r;let{data:i,error:n}=await R.N.auth.signInWithPassword({email:e,password:s});if(n)throw n;if(i.user)try{await fetch("".concat(I,"/api/auth/webhook/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:i.user.id})})}catch(e){}let{data:l,error:o}=await R.N.from("users").select("*").eq("id",null===(t=i.user)||void 0===t?void 0:t.id).single();if(o)throw o;return{access_token:(null===(a=i.session)||void 0===a?void 0:a.access_token)||"",token_type:"bearer",expires_in:(null===(r=i.session)||void 0===r?void 0:r.expires_in)||3600,user:l}}async logout(){let{error:e}=await R.N.auth.signOut();if(e)throw e}async getCurrentUser(){let{data:{session:e},error:s}=await R.N.auth.getSession();if(s)throw s;if(!(null==e?void 0:e.user))throw Error("No user logged in");let{data:t,error:a}=await R.N.from("users").select("*").eq("id",e.user.id).single();if(a)throw a;return t}async refreshToken(){var e,s,t;let{data:a,error:r}=await R.N.auth.refreshSession();if(r)throw r;let{data:i,error:n}=await R.N.from("users").select("*").eq("id",null===(e=a.user)||void 0===e?void 0:e.id).single();if(n)throw n;return{access_token:(null===(s=a.session)||void 0===s?void 0:s.access_token)||"",token_type:"bearer",expires_in:(null===(t=a.session)||void 0===t?void 0:t.expires_in)||3600,user:i}}async getAvailableSessions(e){try{let s=new URLSearchParams;e&&s.append("wifi_network",e);try{let e=await this.getCurrentUserId();s.append("user_id",e)}catch(e){}let t="/sessions/available".concat(s.toString()?"?".concat(s.toString()):"");return await this.makeOptionalAuthRequest(t)}catch(e){throw e instanceof Error&&e.message.includes("No auth token"),e}}async startSessionDownload(e,s){return await this.makeBackendRequest("/sessions/download",{method:"POST",body:JSON.stringify({session_id:e,connect_profile_id:s})})}async activateSession(e){return await this.makeBackendRequest("/sessions/activate",{method:"POST",body:JSON.stringify({session_id:e})})}async getMySessions(){return await this.makeBackendRequest("/sessions/my-sessions")}async getSessionStatus(e){return await this.makeBackendRequest("/sessions/".concat(e,"/status"))}async trackSessionUsage(e,s){return await this.makeBackendRequest("/sessions/track-usage",{method:"POST",body:JSON.stringify({session_id:e,data_used_mb:s})})}async getDataPacks(e){let s=await this.getCurrentUserId();return(await this.makeBackendRequest("/bundles/user/".concat(s,"/packs").concat(e?"?status=".concat(e):""))).packs}async getAvailableBundles(){return await this.makeBackendRequest("/bundles/available")}async calculateBundlePrice(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return await this.makeBackendRequest("/bundles/calculate-price?data_mb=".concat(e,"&validity_days=").concat(s),{method:"POST"})}async createDataPack(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/bundles/create",{method:"POST",body:JSON.stringify({user_id:s,...e})})}async recordDataUsage(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/bundles/usage/update",{method:"POST",body:JSON.stringify({user_id:s,...e})})}async getDataPackStats(){let e=await this.getCurrentUserId();return await this.makeBackendRequest("/bundles/user/".concat(e,"/summary"))}async getConnectProfiles(){let e=await this.getCurrentUserId();return(await this.makeBackendRequest("/connect/profiles/".concat(e))).connect_profiles}async provisionConnectProfile(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/connect/provision",{method:"POST",body:JSON.stringify({user_id:s,bundle_size_mb:e})})}async activateConnectProfile(e){return await this.makeBackendRequest("/connect/profiles/".concat(e,"/activate"),{method:"POST"})}async suspendConnectProfile(e){return await this.makeBackendRequest("/connect/profiles/".concat(e,"/suspend"),{method:"POST"})}async getConnectProfileUsage(e){return await this.makeBackendRequest("/connect/profiles/".concat(e,"/usage"))}async getConnectProfileStatus(e){return await this.makeBackendRequest("/connect/profiles/".concat(e,"/status"))}async getConnectProfileQRCode(e){return await this.makeBackendRequest("/connect/profiles/".concat(e,"/qr-code"))}async getNotifications(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=await this.getCurrentUserId();return await this.makeBackendRequest("/notifications/user/".concat(t,"?limit=").concat(e,"&unread_only=").concat(s))}async markNotificationRead(e){let s=await this.getCurrentUserId();return await this.makeBackendRequest("/notifications/mark-read",{method:"POST",body:JSON.stringify({notification_id:e,user_id:s})})}async markAllNotificationsRead(){let e=await this.getCurrentUserId();return await this.makeBackendRequest("/notifications/user/".concat(e,"/mark-all-read"),{method:"POST"})}async getUnreadNotificationCount(){let e=await this.getCurrentUserId();return await this.makeBackendRequest("/notifications/user/".concat(e,"/unread-count"))}async registerDevice(e,s){let t=await this.getCurrentUserId();return await this.makeBackendRequest("/auth/device/register",{method:"POST",body:JSON.stringify({user_id:t,push_token:e,device_type:s})})}async getMonitoringStats(){return await this.makeBackendRequest("/monitoring/stats")}async generateConnect(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;try{return await this.makeBackendRequest("/esim/generate-esim",{method:"POST",body:JSON.stringify({session_id:e,data_pack_size_mb:s,carrier_name:"KSWiFi",carrier_plmn:"99999"})})}catch(e){throw e}}async generateESIM(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;return this.generateConnect(e,s)}async healthCheck(){try{let e=await R.N.from("users").select("id").limit(1),s=await this.makeBackendRequest("/health");return{status:"healthy",service:"KSWiFi App (Hybrid)",supabase:e.error?"unhealthy":"healthy",backend:s.status||"healthy"}}catch(e){return{status:"unhealthy",service:"KSWiFi App (Hybrid)",error:e instanceof Error?e.message:"Unknown error"}}}}let T=new E,B=T;var D=t(1971),q=t(150),z=t(6414),O=t(8626),K=t(2393),L=t(7832),$=t(5655);function U(e){let{onSessionDownload:s}=e,[t,l]=(0,r.useState)([]),[o,c]=(0,r.useState)(null),[u,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)(0),[w,y]=(0,r.useState)(null),[j,v]=(0,r.useState)(!0),b=g();(0,r.useEffect)(()=>{N()},[b.networkName]);let N=async()=>{try{let e=b.isConnected&&b.networkName?b.networkName:void 0,s=await B.getAvailableSessions(e);l(s),0===s.length&&D.oR.info("No sessions available at the moment")}catch(e){D.oR.error("Failed to load available sessions")}finally{v(!1)}},S=async e=>{if(!u)try{x(!0),y(e),p(0);let t=await B.startSessionDownload(e);if(t.success)D.oR.success("Session download started!"),s(e),A(t.data.session_id);else throw Error(t.message||"Download failed")}catch(e){D.oR.error(e.message||"Failed to start session download"),x(!1),y(null)}},A=e=>{let s=0,t=setInterval(async()=>{if((s+=15*Math.random()+5)>=100){s=100,clearInterval(t),x(!1),y(null),p(0);try{let s=await B.getSessionStatus(e);"stored"===s.data.status&&D.oR.success("Internet session downloaded successfully!",{description:"You can now activate it for offline use"})}catch(e){}}else p(s)},800)},C=e=>e.is_free?(0,a.jsx)(O.A,{className:"h-5 w-5 text-green-500"}):e.is_unlimited?(0,a.jsx)($.A,{className:"h-5 w-5 text-kswifi-cyan"}):(0,a.jsx)(_.A,{className:"h-5 w-5 text-blue-500"}),F=e=>e.is_free?"FREE":"₦".concat(e.price_ngn.toLocaleString()),W=e=>7===e?"1 week":30===e?"1 month":"".concat(e," days");return j?(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{className:"text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,a.jsx)(m.A,{className:"h-6 w-6 text-kswifi-cyan animate-pulse"}),(0,a.jsx)(n.ZB,{className:"text-xl font-semibold text-foreground",children:"Loading Sessions..."})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-24 bg-muted animate-pulse rounded-lg"},e))})})]}):(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,a.jsx)(m.A,{className:"h-6 w-6 text-kswifi-cyan"}),(0,a.jsx)(n.ZB,{className:"text-xl font-semibold text-foreground",children:"Download Internet Sessions"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Download internet sessions on WiFi to use later offline via eSIM"})]}),(0,a.jsxs)(n.Wu,{children:[u&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-kswifi-cyan/10 border border-kswifi-cyan/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 text-kswifi-cyan animate-bounce"}),(0,a.jsx)("span",{className:"font-medium text-foreground",children:"Downloading Internet Session..."})]}),(0,a.jsx)(P,{value:h,className:"h-3 mb-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"Transferring to eSIM storage"}),(0,a.jsxs)("span",{children:[Math.round(h),"% complete"]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsx)(n.Zp,{className:"transition-all duration-200 hover:shadow-md border ".concat(e.is_free?"border-green-500/30 bg-green-500/5":e.is_unlimited?"border-kswifi-cyan/30 bg-kswifi-cyan/5":"border-border bg-card"),children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:C(e)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground text-lg",children:e.size}),e.is_free&&(0,a.jsx)(f,{variant:"secondary",className:"bg-green-500/20 text-green-700 dark:text-green-300",children:"FREE"}),e.is_unlimited&&(0,a.jsxs)(f,{variant:"secondary",className:"bg-kswifi-cyan/20 text-kswifi-cyan",children:[(0,a.jsx)(L.A,{className:"h-3 w-3 mr-1"}),"UNLIMITED"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:e.features.slice(0,3).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[(0,a.jsx)(k.A,{className:"h-3 w-3 text-kswifi-cyan"}),(0,a.jsx)("span",{children:e})]},s))}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(z.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Valid ",W(e.validity_days||0)]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Activate via eSIM"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(K.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Offline capable"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex sm:flex-col items-center sm:items-end justify-between sm:justify-start sm:space-y-3 w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"text-left sm:text-right",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-foreground",children:F(e)}),!e.is_free&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["per ",W(e.validity_days||0)]})]}),(0,a.jsx)(i.$,{onClick:()=>S(e.id),disabled:u||w===e.id,className:"".concat((e.is_free||e.is_unlimited,"bg-primary hover:bg-primary/90 text-primary-foreground")," transition-all duration-200 font-medium min-w-[120px] sm:min-w-[140px]"),size:"sm",children:w===e.id?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(_.A,{className:"h-4 w-4 animate-spin"}),(0,a.jsx)("span",{children:"Downloading"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(_.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Download"}),(0,a.jsx)(q.A,{className:"h-3 w-3"})]})})]})]})})},e.id))}),(0,a.jsx)("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-kswifi-cyan rounded-full"})}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("p",{className:"font-medium text-foreground mb-1",children:"How it works:"}),(0,a.jsxs)("p",{children:["1. Connect to WiFi and download an internet session",(0,a.jsx)("br",{}),"2. Session is stored on your phone's eSIM chip",(0,a.jsx)("br",{}),"3. When offline, activate the eSIM to use your downloaded session",(0,a.jsx)("br",{}),"4. Browse normally until the session is finished"]})]})]})})]})]})}var M=t(6713),Z=t(9703),Y=t(3966),V=t(231),G=t(1892),J=t(3309);function H(e){let{refreshTrigger:s=0}=e,[t,l]=(0,r.useState)([]),[o,c]=(0,r.useState)(!0),[m,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{h()},[s]);let h=async()=>{try{c(!0);let e=await B.getMySessions();l(e)}catch(e){D.oR.error("Failed to load your sessions")}finally{c(!1)}},p=async e=>{if(!m)try{x(e);let s=await B.activateSession(e);if(s.success)D.oR.success("Session activated successfully!",{description:"Your internet session is now active"}),await h();else throw Error(s.message||"Activation failed")}catch(e){D.oR.error(e.message||"Failed to activate session")}finally{x(null)}},g=e=>{switch(e){case"downloading":return(0,a.jsx)(_.A,{className:"h-4 w-4 text-blue-500 animate-bounce"});case"transferring":return(0,a.jsx)(G.A,{className:"h-4 w-4 text-kswifi-cyan animate-spin"});case"stored":return(0,a.jsx)(k.A,{className:"h-4 w-4 text-green-500"});case"active":return(0,a.jsx)(M.A,{className:"h-4 w-4 text-kswifi-cyan animate-pulse"});case"exhausted":return(0,a.jsx)(Z.A,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(z.A,{className:"h-4 w-4 text-gray-500"})}},w=e=>{switch(e){case"downloading":return"Downloading";case"transferring":return"Transferring to eSIM";case"stored":return"Ready to activate";case"active":return"Active";case"exhausted":return"Session finished";case"expired":return"Expired";default:return e}},y=e=>{switch(e){case"active":return"default";case"stored":return"secondary";case"exhausted":case"expired":return"destructive";default:return"outline"}},j=e=>e>=999999?"Unlimited":e>=1024?"".concat((e/1024).toFixed(1),"GB"):"".concat(e,"MB"),v=e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/36e5);if(t<1)return"Just now";if(t<24)return"".concat(t,"h ago");let a=Math.floor(t/24);return"".concat(a,"d ago")},b=e=>{let s=new Date(e),t=new Date,a=Math.floor((s.getTime()-t.getTime())/36e5);if(a<0)return"Expired";if(a<24)return"".concat(a,"h left");let r=Math.floor(a/24);return"".concat(r,"d left")};return o?(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-kswifi-cyan"}),(0,a.jsx)("span",{children:"My Internet Sessions"})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},e))})})]}):0===t.length?(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-kswifi-cyan"}),(0,a.jsx)("span",{children:"My Internet Sessions"})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(u.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No sessions yet"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Download your first internet session to get started"})]})})]}):(0,a.jsxs)(n.Zp,{className:"w-full max-w-4xl mx-auto bg-card border border-border",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-kswifi-cyan"}),(0,a.jsx)("span",{children:"My Internet Sessions"})]}),(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:h,disabled:o,children:[(0,a.jsx)(G.A,{className:"h-4 w-4 mr-2 ".concat(o?"animate-spin":"")}),"Refresh"]})]})}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsx)(n.Zp,{className:"border border-border bg-muted/30",children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:g(e.status)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground",children:e.name}),(0,a.jsx)(f,{variant:y(e.status),children:w(e.status)}),e.size.includes("Unlimited")&&(0,a.jsxs)(f,{variant:"secondary",className:"bg-kswifi-cyan/20 text-kswifi-cyan",children:[(0,a.jsx)($.A,{className:"h-3 w-3 mr-1"}),"UNLIMITED"]})]}),("downloading"===e.status||"transferring"===e.status)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)(P,{value:e.progress_percent,className:"h-2 mb-1"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:"downloading"===e.status?"Downloading session...":"Transferring to eSIM..."}),(0,a.jsxs)("span",{children:[e.progress_percent,"%"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(_.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Downloaded ",v(e.download_started_at)]})]}),e.is_active&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(M.A,{className:"h-3 w-3 text-kswifi-cyan"}),(0,a.jsxs)("span",{children:[j(e.data_remaining_mb)," remaining"]})]}),e.expires_at&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(J.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:b(e.expires_at)})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-row sm:flex-col gap-2 sm:space-y-2 justify-start sm:justify-end w-full sm:w-auto",children:[e.can_activate&&(0,a.jsx)(i.$,{onClick:()=>p(e.id),disabled:m===e.id,className:"bg-primary hover:bg-primary/90 text-primary-foreground font-medium min-w-[100px] flex-1 sm:flex-none",size:"sm",children:m===e.id?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(G.A,{className:"h-4 w-4 animate-spin"}),(0,a.jsx)("span",{children:"Activating"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Y.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Activate"})]})}),e.is_active&&(0,a.jsxs)(i.$,{variant:"outline",size:"sm",className:"border-kswifi-cyan text-kswifi-cyan hover:bg-kswifi-cyan/10 flex-1 sm:flex-none",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 mr-2"}),"QR Code"]}),("exhausted"===e.status||"expired"===e.status)&&(0,a.jsxs)(i.$,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50 flex-1 sm:flex-none",children:[(0,a.jsx)(Z.A,{className:"h-4 w-4 mr-2"}),"exhausted"===e.status?"Finished":"Expired"]})]})]})})},e.id))}),t.some(e=>e.can_activate)&&(0,a.jsx)("div",{className:"mt-6 p-4 bg-kswifi-cyan/10 border border-kswifi-cyan/20 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(V.A,{className:"h-5 w-5 text-kswifi-cyan flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm text-foreground",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"Ready to go offline?"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:'Click "Activate" to enable your downloaded session. You\'ll get a QR code to add the eSIM to your phone, then you can use the internet even without WiFi!'})]})]})})]})]})}var Q=t(7812),X=t(2770),ee=t(4428),es=t(4332);function et(){let[e,s]=(0,r.useState)({isAvailable:!1,supportedTypes:[],hasEnrolledCredentials:!1}),[t,a]=(0,r.useState)(!1);(0,r.useEffect)(()=>{i()},[]);let i=async()=>{try{await n(),e.isAvailable||await l()}catch(e){s({isAvailable:!1,supportedTypes:[],hasEnrolledCredentials:!1})}},n=async()=>{try{let e=await es.W.isAvailable();if(e.isAvailable){let t=await es.W.getCredentials({server:"kswifi.app"}).then(()=>!0).catch(()=>!1);s({isAvailable:e.isAvailable,supportedTypes:e.biometryType?[e.biometryType]:[],hasEnrolledCredentials:t})}else s({isAvailable:!1,supportedTypes:[],hasEnrolledCredentials:!1})}catch(e){s({isAvailable:!1,supportedTypes:[],hasEnrolledCredentials:!1})}},l=async()=>{try{if(window.PublicKeyCredential){let e=await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();s({isAvailable:e,supportedTypes:e?["platform"]:[],hasEnrolledCredentials:!1})}else s({isAvailable:!1,supportedTypes:[],hasEnrolledCredentials:!1})}catch(e){s({isAvailable:!1,supportedTypes:[],hasEnrolledCredentials:!1})}},o=async function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Authenticate to access your account";if(!e.isAvailable)return{success:!1,error:"Biometric authentication is not available on this device"};a(!0);try{try{return await c(s)}catch(e){if(window.PublicKeyCredential)return await d(s);throw e}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Authentication failed"}}finally{a(!1)}},c=async e=>{try{return await es.W.verifyIdentity({reason:e,title:"KSWiFi Authentication",subtitle:"Use your biometric to sign in",description:"Place your finger on the sensor or look at the camera"}),{success:!0}}catch(e){var s;if("userCancel"===e.code||(null===(s=e.message)||void 0===s?void 0:s.includes("cancel")))return{success:!1,cancelled:!0,error:"Authentication was cancelled"};return{success:!1,error:e.message||"Biometric authentication failed"}}},d=async e=>{try{if(await navigator.credentials.create({publicKey:{challenge:new TextEncoder().encode("kswifi-auth-challenge"),rp:{name:"KSWiFi",id:window.location.hostname},user:{id:new TextEncoder().encode("user-id"),name:"user@kswifi.app",displayName:"KSWiFi User"},pubKeyCredParams:[{type:"public-key",alg:-7}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"},timeout:6e4,attestation:"direct"}}))return{success:!0};return{success:!1,error:"No credential created"}}catch(e){if("NotAllowedError"===e.name)return{success:!1,cancelled:!0,error:"Authentication was cancelled or failed"};return{success:!1,error:e.message||"Web authentication failed"}}},m=async(s,t)=>{if(!e.isAvailable)return!1;try{return await es.W.setCredentials({username:s,password:t,server:"kswifi.app"}),!0}catch(e){return!1}},u=async()=>{if(!e.isAvailable)return null;try{let e=await es.W.getCredentials({server:"kswifi.app"});return{username:e.username,password:e.password}}catch(e){return null}},x=()=>{if(!e.isAvailable)return"\uD83D\uDD12";switch(e.supportedTypes[0]){case"face":case"faceId":return"\uD83D\uDC64";case"fingerprint":case"touchId":return"\uD83D\uDC46";case"platform":return"\uD83D\uDD10";default:return"\uD83D\uDD12"}},h=()=>{if(!e.isAvailable)return"Biometric";switch(e.supportedTypes[0]){case"face":case"faceId":return"Face ID";case"fingerprint":case"touchId":return"Touch ID";default:return"Biometric"}};return{capabilities:e,isLoading:t,authenticateWithBiometrics:o,saveBiometricCredentials:m,getBiometricCredentials:u,deleteBiometricCredentials:async()=>{try{return await es.W.deleteCredentials({server:"kswifi.app"}),!0}catch(e){return!1}},getBiometricTypeIcon:x,getBiometricTypeName:h,checkBiometricCapabilities:i}}var ea=t(6309),er=t(3505),ei=t(3678);function en(e){let{onSuccess:s,onSwitchToSignUp:t,onForgotPassword:l}=e,{signIn:o}=(0,ee.A)(),{capabilities:c,isLoading:d,authenticateWithBiometrics:m,getBiometricCredentials:u,saveBiometricCredentials:x,getBiometricTypeIcon:h,getBiometricTypeName:p}=et(),[f,g]=(0,r.useState)({email:"",password:""}),[w,y]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!1),[b,N]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1),[A,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{c.isAvailable&&c.hasEnrolledCredentials&&S(!0)},[c]);let _=async e=>{e.preventDefault(),v(!0),N(null);try{let{data:e,error:t}=await o(f.email,f.password);if(t)throw t;(null==e?void 0:e.user)&&(A&&c.isAvailable&&await x(f.email,f.password),null==s||s())}catch(e){N(e.message||"Failed to sign in. Please check your credentials.")}finally{v(!1)}},F=async()=>{v(!0),N(null);try{let e=await m("Sign in to your KSWiFi account");if(!e.success){e.cancelled?N(null):N(e.error||"Biometric authentication failed");return}let t=await u();if(!t){N("No saved credentials found. Please sign in manually.");return}let{data:a,error:r}=await o(t.username,t.password);if(r)throw r;(null==a?void 0:a.user)&&(null==s||s())}catch(e){N(e.message||"Failed to sign in with biometrics.")}finally{v(!1)}},W=(e,s)=>{g(t=>({...t,[e]:s})),N(null)};return(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Sign in to your KSWiFi account"})]}),(0,a.jsxs)("form",{onSubmit:_,children:[(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[b&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-400 bg-red-900/20 border border-red-800 rounded-md",children:b}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(X.J,{htmlFor:"email",className:"text-foreground",children:"Email"}),(0,a.jsx)(Q.p,{id:"email",type:"email",placeholder:"Enter your email",value:f.email,onChange:e=>W("email",e.target.value),required:!0,disabled:j,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(X.J,{htmlFor:"password",className:"text-foreground",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Q.p,{id:"password",type:w?"text":"password",placeholder:"Enter your password",value:f.password,onChange:e=>W("password",e.target.value),required:!0,disabled:j,className:"pr-10 bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-muted text-muted-foreground hover:text-foreground",onClick:()=>y(!w),disabled:j,children:w?(0,a.jsx)(er.A,{className:"h-4 w-4"}):(0,a.jsx)(ea.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(i.$,{type:"button",variant:"link",size:"sm",onClick:l,disabled:j,className:"px-0 text-primary hover:text-primary/80",children:"Forgot password?"})})]}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[k&&(0,a.jsx)(i.$,{type:"button",variant:"outline",className:"w-full border-primary text-primary hover:bg-primary/10",onClick:F,disabled:j||d,children:j||d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Authenticating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mr-2 text-lg",children:h()}),"Sign in with ",p()]})}),c.isAvailable&&!k&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"remember-credentials",checked:A,onChange:e=>C(e.target.checked),className:"w-4 h-4 text-primary bg-background border-border rounded focus:ring-primary"}),(0,a.jsxs)(X.J,{htmlFor:"remember-credentials",className:"text-sm text-muted-foreground cursor-pointer",children:["Enable ",p()," for future sign-ins"]})]}),(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-primary",disabled:j||!f.email||!f.password,children:j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"}),(0,a.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,a.jsx)(i.$,{type:"button",variant:"link",size:"sm",onClick:t,disabled:j,className:"px-0 text-primary hover:text-primary/80",children:"Sign up"})]})]})]})]})}function el(e){let{onSuccess:s,onSwitchToSignIn:t}=e,{signUp:l}=(0,ee.A)(),[o,c]=(0,r.useState)({first_name:"",last_name:"",email:"",phone_number:"",password:"",confirmPassword:""}),[d,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(null),w={length:o.password.length>=8,uppercase:/[A-Z]/.test(o.password),lowercase:/[a-z]/.test(o.password),number:/\d/.test(o.password),special:/[!@#$%^&*(),.?":{}|<>]/.test(o.password)},y=Object.values(w).every(Boolean),j=o.password===o.confirmPassword&&o.confirmPassword.length>0,v=async e=>{if(e.preventDefault(),p(!0),g(null),!y){g("Password does not meet requirements"),p(!1);return}if(!j){g("Passwords do not match"),p(!1);return}try{let{data:e,error:t}=await l(o.email,o.password,{first_name:o.first_name,last_name:o.last_name,phone_number:o.phone_number||void 0});if(t)throw t;(null==e?void 0:e.user)&&(null==s||s())}catch(e){g(e.message||"Failed to create account. Please try again.")}finally{p(!1)}},b=(e,s)=>{c(t=>({...t,[e]:s})),g(null)},N=e=>{let{met:s,text:t}=e;return(0,a.jsxs)("div",{className:"flex items-center text-xs ".concat(s?"text-primary":"text-muted-foreground"),children:[s?(0,a.jsx)(C.A,{className:"h-3 w-3 mr-1"}):(0,a.jsx)(S.A,{className:"h-3 w-3 mr-1"}),t]})};return(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Create Account"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Sign up for your KSWiFi account"})]}),(0,a.jsxs)("form",{onSubmit:v,children:[(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[f&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-400 bg-red-900/20 border border-red-800 rounded-md",children:f}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(X.J,{htmlFor:"first_name",className:"text-foreground",children:"First Name"}),(0,a.jsx)(Q.p,{id:"first_name",type:"text",placeholder:"First name",value:o.first_name,onChange:e=>b("first_name",e.target.value),required:!0,disabled:h,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(X.J,{htmlFor:"last_name",className:"text-foreground",children:"Last Name"}),(0,a.jsx)(Q.p,{id:"last_name",type:"text",placeholder:"Last name",value:o.last_name,onChange:e=>b("last_name",e.target.value),required:!0,disabled:h,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(X.J,{htmlFor:"email",className:"text-foreground",children:"Email"}),(0,a.jsx)(Q.p,{id:"email",type:"email",placeholder:"Enter your email",value:o.email,onChange:e=>b("email",e.target.value),required:!0,disabled:h,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(X.J,{htmlFor:"phone_number",className:"text-foreground",children:"Phone Number (Optional)"}),(0,a.jsx)(Q.p,{id:"phone_number",type:"tel",placeholder:"Enter your phone number",value:o.phone_number,onChange:e=>b("phone_number",e.target.value),disabled:h,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(X.J,{htmlFor:"password",className:"text-foreground",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Q.p,{id:"password",type:d?"text":"password",placeholder:"Create a password",value:o.password,onChange:e=>b("password",e.target.value),required:!0,disabled:h,className:"pr-10 bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-muted text-muted-foreground hover:text-foreground",onClick:()=>m(!d),disabled:h,children:d?(0,a.jsx)(er.A,{className:"h-4 w-4"}):(0,a.jsx)(ea.A,{className:"h-4 w-4"})})]}),o.password&&(0,a.jsxs)("div",{className:"space-y-1 p-2 bg-muted/20 border border-border rounded",children:[(0,a.jsx)(N,{met:w.length,text:"At least 8 characters"}),(0,a.jsx)(N,{met:w.uppercase,text:"One uppercase letter"}),(0,a.jsx)(N,{met:w.lowercase,text:"One lowercase letter"}),(0,a.jsx)(N,{met:w.number,text:"One number"}),(0,a.jsx)(N,{met:w.special,text:"One special character"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(X.J,{htmlFor:"confirmPassword",className:"text-foreground",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Q.p,{id:"confirmPassword",type:u?"text":"password",placeholder:"Confirm your password",value:o.confirmPassword,onChange:e=>b("confirmPassword",e.target.value),required:!0,disabled:h,className:"pr-10 bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!u),disabled:h,children:u?(0,a.jsx)(er.A,{className:"h-4 w-4"}):(0,a.jsx)(ea.A,{className:"h-4 w-4"})})]}),o.confirmPassword&&(0,a.jsx)("div",{className:"text-xs ".concat(j?"text-primary":"text-red-400"),children:j?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(C.A,{className:"h-3 w-3 mr-1"}),"Passwords match"]}):(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(S.A,{className:"h-3 w-3 mr-1"}),"Passwords do not match"]})})]})]}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-primary",disabled:h||!y||!j||!o.first_name||!o.last_name||!o.email,children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"}),(0,a.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,a.jsx)(i.$,{type:"button",variant:"link",size:"sm",onClick:t,disabled:h,className:"px-0 text-primary hover:text-primary/80",children:"Sign in"})]})]})]})]})}var eo=t(1941);function ec(e){let{onBack:s}=e,{resetPassword:t}=(0,ee.A)(),[l,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[m,u]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),p=async e=>{e.preventDefault(),d(!0),u(null);try{let{data:e,error:s}=await t(l);if(s)throw s;h(!0)}catch(e){u(e.message||"Failed to send reset email. Please try again.")}finally{d(!1)}};return x?(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/20",children:(0,a.jsx)(k.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Check Your Email"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["We've sent a password reset link to ",(0,a.jsx)("strong",{children:l})]})]}),(0,a.jsx)(n.Wu,{className:"text-center text-sm text-muted-foreground",children:(0,a.jsx)("p",{children:"Click the link in the email to reset your password. If you don't see the email, check your spam folder."})}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>{h(!1),o(""),u(null)},className:"w-full border-border text-foreground hover:bg-muted",children:"Send Another Email"}),(0,a.jsxs)(i.$,{variant:"link",onClick:s,className:"w-full text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(eo.A,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})]})]}):(0,a.jsxs)(n.Zp,{className:"w-full max-w-md mx-auto bg-card border-border",children:[(0,a.jsxs)(n.aR,{className:"text-center",children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-bold text-foreground",children:"Reset Password"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Enter your email address and we'll send you a link to reset your password"})]}),(0,a.jsxs)("form",{onSubmit:p,children:[(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[m&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-400 bg-red-900/20 border border-red-800 rounded-md",children:m}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(X.J,{htmlFor:"email",className:"text-foreground",children:"Email Address"}),(0,a.jsx)(Q.p,{id:"email",type:"email",placeholder:"Enter your email address",value:l,onChange:e=>{o(e.target.value),u(null)},required:!0,disabled:c,className:"bg-input border-border text-foreground placeholder:text-muted-foreground focus:ring-primary"})]})]}),(0,a.jsxs)(n.wL,{className:"flex flex-col space-y-4",children:[(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-primary",disabled:c||!l,children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Reset Link..."]}):"Send Reset Link"}),(0,a.jsxs)(i.$,{type:"button",variant:"link",onClick:s,disabled:c,className:"w-full text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(eo.A,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})]})]})]})}function ed(e){let{children:s,fallback:t}=e,{user:r,loading:i}=(0,ee.A)();return i?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(ei.A,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r?(0,a.jsx)(a.Fragment,{children:s}):t||null}function em(){let{user:e,session:s}=(0,ee.A)(),[t,a]=(0,r.useState)(null),[i,n]=(0,r.useState)(!0),[l,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{e?c():(a(null),n(!1))},[e]);let c=async()=>{try{n(!0),o(null);let{data:s,error:t}=await R.N.from("users").select("*").eq("id",null==e?void 0:e.id).single();if(t)throw t;a(s)}catch(e){o(e.message)}finally{n(!1)}};return{profile:t,loading:i,error:l,updateProfile:async s=>{try{o(null);let{data:t,error:r}=await R.N.from("users").update(s).eq("id",null==e?void 0:e.id).select().single();if(r)throw r;return a(t),{data:t,error:null}}catch(e){return o(e.message),{data:null,error:e}}},refreshProfile:c}}t(6333);let eu=(0,r.createContext)(void 0);function ex(){let e=(0,r.useContext)(eu);if(!e)throw Error("useAppSecurity must be used within a SecurityProvider");return e}function eh(e){let{children:s}=e,{user:t,loading:i}=(0,ee.A)(),[n,l]=(0,r.useState)({isSecure:!1,hasValidSession:!1,sessionExpiryType:"data-based",dataUsagePercentage:0,lastActivity:new Date,securityLevel:"low",warnings:[]}),o=async()=>{if(!t)return!1;try{return await T.healthCheck(),!0}catch(e){return!1}},c=e=>{let s=[],t="https:"===window.location.protocol;t||"localhost"===window.location.hostname||s.push("Connection is not secure (HTTP)");let a=!1;return(Date.now()-e.getTime()>864e5&&s.push("Session is old, consider re-authentication"),0===s.length&&t&&!a)?"high":s.length<=1||t&&a?"medium":"low"},d=async()=>{if(i)return;let e=await o(),s=new Date,a=c(s),r=x(),n=0;try{if(t){let e=await T.getDataPacks();if(e.length>0){let s=e.reduce((e,s)=>e+s.total_data_mb,0),t=e.reduce((e,s)=>e+s.used_data_mb,0);n=s>0?t/s*100:0}}}catch(e){}l(t=>({...t,isSecure:e&&"low"!==a,hasValidSession:e,securityLevel:a,warnings:r,sessionExpiryType:"data-based",dataUsagePercentage:n,lastActivity:s}))},m=()=>{l(e=>({...e,lastActivity:new Date}))},u=()=>n.isSecure&&n.hasValidSession&&"low"!==n.securityLevel,x=()=>{let e=[];return"https:"!==window.location.protocol&&"localhost"!==window.location.hostname&&e.push("Use HTTPS for secure connection"),t||e.push("Sign in to access secure features"),Date.now()-n.lastActivity.getTime()>18e5&&e.push("Session has been idle, consider refreshing"),e.push("Only download data packs on trusted networks"),e.push("Verify eSIM QR codes before installation"),e};(0,r.useEffect)(()=>{i||d()},[t,i]),(0,r.useEffect)(()=>{let e=()=>m();window.addEventListener("click",e),window.addEventListener("keydown",e),window.addEventListener("scroll",e),window.addEventListener("touchstart",e);let s=setInterval(d,3e5);return()=>{window.removeEventListener("click",e),window.removeEventListener("keydown",e),window.removeEventListener("scroll",e),window.removeEventListener("touchstart",e),clearInterval(s)}},[]);let h={security:n,refreshSecurity:d,reportActivity:m,checkSecurityCompliance:u,getSecurityRecommendations:x};return(0,a.jsx)(eu.Provider,{value:h,children:s})}var ep=t(5030),ef=t(8940);function eg(){let{security:e,getSecurityRecommendations:s,checkSecurityCompliance:t}=ex(),[n,l]=(0,r.useState)(!1),o=()=>{switch(e.securityLevel){case"high":return(0,a.jsx)(ef.A,{className:"w-4 h-4 text-green-500"});case"medium":return(0,a.jsx)(K.A,{className:"w-4 h-4 text-yellow-500"});case"low":return(0,a.jsx)(ep.A,{className:"w-4 h-4 text-red-500"});default:return(0,a.jsx)(K.A,{className:"w-4 h-4 text-muted-foreground"})}},c=()=>{switch(e.securityLevel){case"high":return"default";case"medium":return"secondary";case"low":return"destructive";default:return"outline"}},d=s();return(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-card border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[o(),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Security Status"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.hasValidSession?"Session Active":"No Session"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f,{variant:c(),children:e.securityLevel.toUpperCase()}),e.warnings.length>0&&(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>l(!n),className:"text-muted-foreground hover:text-foreground p-1",children:(0,a.jsx)(N.A,{className:"w-4 h-4"})})]})]}),n&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-border",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"Security Recommendations:"}),(0,a.jsx)("ul",{className:"text-xs space-y-1",children:d.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-primary",children:"•"}),(0,a.jsx)("span",{children:e})]},s))}),(0,a.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:"data-based"===e.sessionExpiryType?(0,a.jsxs)("div",{children:["Session expires when data is exhausted",e.dataUsagePercentage>0&&(0,a.jsxs)("div",{className:"mt-1",children:["Data used: ",e.dataUsagePercentage.toFixed(1),"%"]})]}):(0,a.jsx)("div",{children:"Session active until data exhausted"})})]})]})}var ew=t(2446),ey=t(4840),ej=t(9518),ev=t(3694),eb=t(8416),eN=t(7071),ek=t(7882),eS=t(6296),eA=t(3697);let eC=[{id:"getting-started",name:"Getting Started",icon:d.A,color:"text-blue-500"},{id:"wifi-data",name:"WiFi & Data",icon:m.A,color:"text-green-500"},{id:"connect",name:"KSWiFi Connect",icon:_.A,color:"text-purple-500"},{id:"billing",name:"Billing & Plans",icon:ej.A,color:"text-orange-500"},{id:"security",name:"Security & Privacy",icon:K.A,color:"text-red-500"},{id:"troubleshooting",name:"Troubleshooting",icon:eA.A,color:"text-gray-500"}],e_=[{id:"1",category:"getting-started",question:"How do I get started with KSWiFi?",answer:"Welcome to KSWiFi! To get started: 1) Create your account by signing up with your email, 2) Choose a data pack that suits your needs, 3) Download your internet session when connected to WiFi, 4) Activate your data pack and start browsing. You can also set up Face ID or Touch ID for quick access to your account."},{id:"2",category:"getting-started",question:"What is KSWiFi and how does it work?",answer:"KSWiFi is a modern mobile data management app that lets you purchase data packs, manage KSWiFi Connect profiles, and monitor your internet usage in real-time. Our app provides secure WiFi data pack management with cross-platform support for iOS and Android devices."},{id:"3",category:"getting-started",question:"Do I need to create an account?",answer:"Yes, you need to create a secure account to access all KSWiFi features. This allows us to sync your data packs, usage history, and preferences across all your devices. We use industry-standard security measures to protect your personal information."},{id:"4",category:"wifi-data",question:"How do I download internet sessions?",answer:'To download internet sessions: 1) Connect to WiFi, 2) Go to dashboard, 3) Tap "Download Session", 4) Choose data size, 5) Wait for download. WiFi required for security.'},{id:"5",category:"wifi-data",question:"Why can't I download sessions without WiFi?",answer:"For security and data integrity reasons, internet sessions can only be downloaded over WiFi connections. This ensures a stable download process and prevents interruptions that could corrupt your data pack. Make sure you're connected to a trusted WiFi network before downloading."},{id:"6",category:"wifi-data",question:"How do I monitor my data usage?",answer:'Your data usage is displayed prominently on the main dashboard with a visual meter showing current usage vs. total data. You can view detailed usage statistics, remaining data, and usage history in the "My Sessions" section. The app provides real-time updates as you use your data.'},{id:"7",category:"connect",question:"How do I set up KSWiFi Connect?",answer:'To set up KSWiFi Connect: 1) Tap "Setup Connect" on the dashboard, 2) Generate your Connect Code, 3) Scan the QR code with your phone camera, 4) Tap "Add" when prompted to install the VPN profile, 5) Enable "KSWiFi Connect" in your VPN settings, 6) Enjoy instant global internet access using your session data!'},{id:"8",category:"connect",question:"Which devices support KSWiFi Connect?",answer:"KSWiFi Connect works on all modern smartphones including iPhone (iOS 10+) and Android devices (5.0+). It uses VPN technology that is built into every phone, so no additional apps are required. Simply scan the QR code and your phone will automatically install the connection profile."},{id:"9",category:"connect",question:"Can I use multiple Connect profiles?",answer:"Yes! You can have multiple KSWiFi Connect profiles for different sessions and data allowances. Each profile tracks its own usage and limits. You can switch between profiles in your phone's VPN settings as needed."},{id:"10",category:"billing",question:"What data pack sizes are available?",answer:"You can download free data packs up to 5GB at no cost. For anything exceeding 5GB, you pay ₦800. All data packs expire after 7 days from purchase, but your active sessions won't expire unless you exhaust the data you've downloaded."},{id:"11",category:"billing",question:"When do my data packs expire?",answer:"Data packs expire 7 days after purchase, but your active internet sessions won't expire unless you completely exhaust the data you've downloaded. This means once you download a session, you have full control over when to use it - it won't disappear due to time limits."},{id:"12",category:"billing",question:"Is there free data available?",answer:"Yes! You can download up to 5GB of data completely free. This is perfect for basic browsing, messaging, and light usage. If you need more than 5GB, you can purchase additional data for ₦800."},{id:"13",category:"billing",question:"How much does additional data cost?",answer:"Additional data beyond the free 5GB costs ₦800. This gives you access to larger data packs for heavy usage, streaming, or extended internet sessions. Payment is processed securely through our payment system."},{id:"14",category:"billing",question:"How do I purchase additional data?",answer:'To purchase additional data: 1) Go to dashboard, 2) Tap "Activate Data Pack", 3) Choose pack size, 4) Pay ₦800, 5) Download immediately after payment.'},{id:"15",category:"security",question:"How do I enable Face ID or Touch ID?",answer:'To enable biometric authentication: 1) Sign in with your email and password, 2) Check the "Enable Face ID/Touch ID for future sign-ins" option, 3) Complete your sign-in, 4) Your biometric data will be securely saved for future logins. You can disable this feature anytime in your device settings.'},{id:"16",category:"security",question:"Is my data secure?",answer:"Yes! We use industry-standard security measures including HTTPS encryption, secure authentication via Supabase, Row Level Security (RLS) for database protection, and biometric authentication support. Your personal data and usage information are protected with enterprise-grade security."},{id:"17",category:"security",question:"What information do you collect?",answer:"We only collect essential information needed to provide our service: your email address, name, data usage statistics, and device information for KSWiFi Connect provisioning. We never sell your personal data and only use it to improve your KSWiFi experience."},{id:"18",category:"troubleshooting",question:'My app shows "No Internet Connection" but I\'m connected',answer:"This usually indicates a connectivity issue. Try: 1) Check if you're connected to a working WiFi network, 2) Restart the app, 3) Check your device's internet settings, 4) Try connecting to a different WiFi network, 5) Contact support if the issue persists."},{id:"19",category:"troubleshooting",question:"My KSWiFi Connect QR code won't scan",answer:"If your QR code won't scan: 1) Ensure your device camera has permission to access the camera, 2) Clean your camera lens, 3) Make sure you're in good lighting, 4) Try generating a new QR code from the app, 5) You can also manually enter the activation code if scanning fails."},{id:"20",category:"troubleshooting",question:"I can't download internet sessions",answer:"If you can't download sessions: 1) Ensure you're connected to WiFi (cellular connections won't work), 2) Check that you have sufficient storage space, 3) Verify your account has active data packs, 4) Try restarting the app, 5) Contact support if downloads continue to fail."}];function eF(){var e;let[s,t]=(0,r.useState)(null),[l,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(""),m=e_.filter(e=>{let t=""===c||e.question.toLowerCase().includes(c.toLowerCase())||e.answer.toLowerCase().includes(c.toLowerCase()),a=null===s||e.category===s;return t&&a}),u=e=>e_.filter(s=>s.category===e).length;return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(eb.A,{className:"w-8 h-8 text-primary mr-3"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Help Center"})]}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg",children:"Find answers to common questions about KSWiFi"})]}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eS.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),(0,a.jsx)(Q.p,{type:"text",placeholder:"Search for help articles...",value:c,onChange:e=>d(e.target.value),className:"pl-10 text-lg h-12"})]})})}),!c&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Browse by Category"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:eC.map(e=>{let r=e.icon;return(0,a.jsxs)(i.$,{variant:s===e.id?"default":"outline",className:"h-auto p-3 md:p-4 flex flex-col items-center space-y-2",onClick:()=>t(s===e.id?null:e.id),children:[(0,a.jsx)(r,{className:"w-6 h-6 md:w-8 md:h-8 ".concat(e.color)}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-xs md:text-sm",children:e.name}),(0,a.jsxs)("div",{className:"text-xs md:text-sm text-muted-foreground",children:[u(e.id)," articles"]})]})]},e.id)})})})]}),(0,a.jsx)("div",{className:"space-y-4",children:m.length>0?(0,a.jsxs)(a.Fragment,{children:[s&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold",children:[null===(e=eC.find(e=>e.id===s))||void 0===e?void 0:e.name,(0,a.jsxs)("span",{className:"text-muted-foreground ml-2",children:["(",m.length," articles)"]})]}),(0,a.jsx)(i.$,{variant:"ghost",onClick:()=>t(null),className:"text-muted-foreground",children:"Show All Categories"})]}),m.map(e=>(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-0",children:[(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full p-4 md:p-6 h-auto justify-between text-left",onClick:()=>o(l===e.id?null:e.id),children:[(0,a.jsx)("span",{className:"font-medium text-foreground pr-2 md:pr-4 text-sm md:text-base",children:e.question}),l===e.id?(0,a.jsx)(ew.A,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}):(0,a.jsx)(ey.A,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"})]}),l===e.id&&(0,a.jsx)("div",{className:"px-4 md:px-6 pb-4 md:pb-6 pt-0",children:(0,a.jsx)("div",{className:"text-muted-foreground leading-relaxed text-sm md:text-base",children:e.answer})})]})},e.id))]}):(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-12 text-center",children:[(0,a.jsx)(eS.A,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No results found"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Try adjusting your search terms or browse by category"})]})})}),(0,a.jsxs)(n.Zp,{className:"border-primary/20",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center",children:[(0,a.jsx)(ek.A,{className:"w-5 h-5 mr-2 text-primary"}),"Still need help?"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Can't find what you're looking for? Our support team is here to help."}),(0,a.jsxs)(i.$,{variant:"outline",className:"h-auto p-3 md:p-4 flex items-center space-x-2 md:space-x-3 mx-auto max-w-md",children:[(0,a.jsx)(eN.A,{className:"w-4 h-4 md:w-5 md:h-5 text-primary flex-shrink-0"}),(0,a.jsxs)("div",{className:"text-left min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-semibold text-sm md:text-base",children:"Email Support"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground truncate",children:"support@kswifi.app"})]}),(0,a.jsx)(ev.A,{className:"w-3 h-3 md:w-4 md:h-4 flex-shrink-0"})]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center pt-2",children:"Response time: Usually within 2-4 hours"})]})]})]})}var eW=t(6982),eP=t(8121),eR=t(5852),eI=t(6872),eE=t(2699),eT=t(7216);let eB=[{icon:K.A,title:"Secure Authentication",description:"Advanced security with biometric authentication support (Face ID/Touch ID) for your peace of mind.",color:"text-red-500"},{icon:d.A,title:"Cross-Platform Mobile",description:"Available on both iOS and Android devices for seamless mobile experience anywhere.",color:"text-blue-500"},{icon:m.A,title:"Real-Time WiFi Detection",description:"Smart network detection with connection monitoring and signal strength tracking.",color:"text-green-500"},{icon:eP.A,title:"KSWiFi Connect",description:"Instant VPN profile generation with QR code setup for global internet access anywhere.",color:"text-purple-500"},{icon:eW.A,title:"Data Usage Monitoring",description:"Real-time data consumption tracking with detailed analytics and usage insights.",color:"text-orange-500"},{icon:$.A,title:"Background Monitoring",description:"Automatic data balance checks and smart notifications for low balance alerts.",color:"text-yellow-500"}];function eD(){return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-6 md:space-y-8",children:[(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary rounded-xl flex items-center justify-center",children:(0,a.jsx)(m.A,{className:"w-6 h-6 text-primary-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"KSWiFi"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Version 1.0"})]})]}),(0,a.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,a.jsx)("p",{className:"text-lg md:text-xl text-muted-foreground leading-relaxed",children:"Your ultimate companion for seamless internet connectivity. Download data packs on WiFi, activate anywhere with KSWiFi Connect, and stay connected wherever life takes you."})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center text-lg md:text-xl",children:[(0,a.jsx)(eE.A,{className:"w-5 h-5 mr-2 text-primary"}),"Our Mission"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("p",{className:"text-muted-foreground leading-relaxed text-sm md:text-base",children:"At KSWiFi, we believe that staying connected shouldn't be complicated or expensive. Our mission is to provide you with the most convenient, secure, and affordable way to access the internet anywhere in the world. Whether you're traveling, working remotely, or just need reliable backup connectivity, we've got you covered."})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-lg md:text-xl",children:"What Makes KSWiFi Special"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:eB.map((e,s)=>{let t=e.icon;return(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 md:p-4 rounded-lg bg-muted/30",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(t,{className:"w-6 h-6 md:w-8 md:h-8 ".concat(e.color)})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-2 text-sm md:text-base",children:e.title}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs md:text-sm leading-relaxed",children:e.description})]})]},s)})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-lg md:text-xl",children:"App Information"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 text-center",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xl md:text-2xl font-bold text-primary",children:"1.0"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"Current Version"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xl md:text-2xl font-bold text-primary",children:"2025"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"Year Released"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xl md:text-2xl font-bold text-primary",children:"iOS & Android"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"Platforms"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-xl md:text-2xl font-bold text-primary",children:"24/7"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"Support Available"})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-lg md:text-xl",children:"How KSWiFi Works"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary font-bold text-lg",children:"1"})}),(0,a.jsx)("h3",{className:"font-semibold text-sm md:text-base",children:"Download Data Packs"}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Connect to WiFi and download your data packs for offline use"})]}),(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary font-bold text-lg",children:"2"})}),(0,a.jsx)("h3",{className:"font-semibold text-sm md:text-base",children:"Activate Connect"}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Scan the QR code to activate your KSWiFi Connect profile on any device"})]}),(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary font-bold text-lg",children:"3"})}),(0,a.jsx)("h3",{className:"font-semibold text-sm md:text-base",children:"Stay Connected"}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Enjoy seamless internet connectivity anywhere you go"})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center text-lg md:text-xl",children:[(0,a.jsx)(K.A,{className:"w-5 h-5 mr-2 text-primary"}),"Privacy & Security"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-muted-foreground text-sm md:text-base",children:"Your privacy and security are our top priorities. KSWiFi uses industry-standard encryption and security measures to protect your data and ensure your online activities remain private."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(K.A,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-sm md:text-base",children:"End-to-End Encryption"}),(0,a.jsx)("div",{className:"text-muted-foreground text-xs md:text-sm",children:"All your data is encrypted in transit and at rest"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(K.A,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-sm md:text-base",children:"Biometric Authentication"}),(0,a.jsx)("div",{className:"text-muted-foreground text-xs md:text-sm",children:"Secure login with Face ID, Touch ID, or fingerprint"})]})]})]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center text-lg md:text-xl",children:[(0,a.jsx)(eT.A,{className:"w-5 h-5 mr-2 text-primary"}),"Support & Community"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-muted-foreground text-sm md:text-base",children:"Need help or have questions? Our dedicated support team is here to assist you 24/7. We're committed to providing you with the best possible experience."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(i.$,{variant:"outline",className:"h-auto p-3 md:p-4 flex items-center space-x-2 md:space-x-3",children:[(0,a.jsx)(eN.A,{className:"w-4 h-4 md:w-5 md:h-5 text-primary flex-shrink-0"}),(0,a.jsxs)("div",{className:"text-left min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-semibold text-sm md:text-base",children:"Email Support"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"support@kswifi.app"})]}),(0,a.jsx)(ev.A,{className:"w-3 h-3 md:w-4 md:h-4 flex-shrink-0"})]}),(0,a.jsxs)(i.$,{variant:"outline",className:"h-auto p-3 md:p-4 flex items-center space-x-2 md:space-x-3",children:[(0,a.jsx)(eI.A,{className:"w-4 h-4 md:w-5 md:h-5 text-primary flex-shrink-0"}),(0,a.jsxs)("div",{className:"text-left min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"font-semibold text-sm md:text-base",children:"Phone Support"}),(0,a.jsx)("div",{className:"text-xs md:text-sm text-muted-foreground",children:"Available 24/7"})]}),(0,a.jsx)(ev.A,{className:"w-3 h-3 md:w-4 md:h-4 flex-shrink-0"})]})]})]})]}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-4 md:p-6",children:(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)(eR.A,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm md:text-base text-muted-foreground",children:"Made with love for seamless connectivity"})]}),(0,a.jsxs)("div",{className:"text-xs md:text-sm text-muted-foreground",children:["\xa9 2025 KSWiFi. All rights reserved.",(0,a.jsx)("br",{className:"md:hidden"}),(0,a.jsx)("span",{className:"hidden md:inline",children:" • "}),"Connecting you to the world, one data pack at a time."]})]})})})]})}var eq=t(6441);function ez(e){let{isOpen:s,onClose:t,connectData:l,esimData:o}=e,c=l||o,[m,u]=(0,r.useState)("qr"),[x,h]=(0,r.useState)(null);if(!s||!c)return null;let p=async(e,s)=>{try{await navigator.clipboard.writeText(e),h(s),D.oR.success("".concat(s," copied to clipboard!")),setTimeout(()=>h(null),2e3)}catch(e){D.oR.error("Failed to copy to clipboard")}},f=()=>{try{let e=document.createElement("a");e.href=c.qr_code_image,e.download="kswifi-connect-".concat(c.esim_id.slice(0,8),".png"),e.click(),D.oR.success("QR code downloaded!")}catch(e){D.oR.error("Failed to download QR code")}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-md bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(d.A,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"KSWiFi Connect Ready!"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[c.bundle_size_mb/1024,"GB Internet Access"]})]})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(S.A,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"p-6 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600 mb-2",children:[(0,a.jsx)(k.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Generation Successful"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:c.message})]}),(0,a.jsx)("div",{className:"border-b",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{onClick:()=>u("qr"),className:"flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors ".concat("qr"===m?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)(V.A,{className:"w-4 h-4 inline mr-2"}),"QR Code"]}),(0,a.jsx)("button",{onClick:()=>u("manual"),className:"flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors ".concat("manual"===m?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Manual Setup"})]})}),(0,a.jsx)("div",{className:"p-6",children:"qr"===m?(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg border-2 border-dashed border-gray-200",children:(0,a.jsx)("img",{src:c.qr_code_image,alt:"KSWiFi Connect QR Code",className:"w-48 h-48 mx-auto"})}),(0,a.jsxs)("div",{className:"text-left space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Setup Instructions:"}),(0,a.jsx)("ol",{className:"text-sm text-gray-600 space-y-1",children:c.manual_setup.instructions.map((e,s)=>(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsxs)("span",{className:"text-blue-600 font-medium",children:[s+1,"."]}),(0,a.jsx)("span",{children:e})]},s))})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsxs)(i.$,{onClick:f,className:"flex-1",size:"sm",children:[(0,a.jsx)(_.A,{className:"w-4 h-4 mr-2"}),"Download QR"]}),(0,a.jsxs)(i.$,{variant:"outline",onClick:()=>p(c.activation_code,"Activation Code"),className:"flex-1",size:"sm",children:["Activation Code"===x?(0,a.jsx)(k.A,{className:"w-4 h-4 mr-2 text-green-500"}):(0,a.jsx)(eq.A,{className:"w-4 h-4 mr-2"}),"Copy Code"]})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Activation Code"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"flex-1 p-2 bg-gray-50 rounded text-xs font-mono break-all",children:c.manual_setup.activation_code}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>p(c.manual_setup.activation_code,"Activation Code"),children:"Activation Code"===x?(0,a.jsx)(k.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(eq.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"APN"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"flex-1 p-2 bg-gray-50 rounded text-xs",children:c.manual_setup.apn}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>p(c.manual_setup.apn,"APN"),children:"APN"===x?(0,a.jsx)(k.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(eq.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Username"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"flex-1 p-2 bg-gray-50 rounded text-xs",children:c.manual_setup.username}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>p(c.manual_setup.username,"Username"),children:"Username"===x?(0,a.jsx)(k.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(eq.A,{className:"w-4 h-4"})})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Password"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"flex-1 p-2 bg-gray-50 rounded text-xs",children:c.manual_setup.password}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>p(c.manual_setup.password,"Password"),children:"Password"===x?(0,a.jsx)(k.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(eq.A,{className:"w-4 h-4"})})]})]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Manual Setup Steps:"}),(0,a.jsx)("ol",{className:"text-sm text-gray-600 space-y-1",children:c.manual_setup.instructions.map((e,s)=>(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsxs)("span",{className:"text-blue-600 font-medium",children:[s+1,"."]}),(0,a.jsx)("span",{children:e})]},s))})]})]})}),(0,a.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-amber-600",children:[(0,a.jsx)(Z.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-xs",children:"Keep this information safe. You'll need it to set up your KSWiFi Connect profile."})]})})]})})}var eO=t(1360),eK=t(6712),eL=t(1647),e$=t(7931);function eU(){var e,s,t;let{user:o,loading:c,signOut:m}=(0,ee.A)(),{profile:u,loading:x}=em(),h=g(),[p,f]=(0,r.useState)("onboarding"),[j,v]=(0,r.useState)("signin"),[N,k]=(0,r.useState)(!1),[S,C]=(0,r.useState)({type:"info",title:"",message:"",isVisible:!1}),[W,P]=(0,r.useState)(!0),[R,I]=(0,r.useState)([]),[E,B]=(0,r.useState)([]),[q,z]=(0,r.useState)(null),[O,L]=(0,r.useState)(!1),[$,M]=(0,r.useState)(0),[Z,G]=(0,r.useState)(!1),[J,Q]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search),s=e.get("message"),t=e.get("error");if("password_updated"===s)D.oR.success("Password updated successfully!"),window.history.replaceState({},"",window.location.pathname);else if(t){switch(t){case"invalid_reset_link":D.oR.error("Invalid or expired reset link");break;case"reset_error":D.oR.error("An error occurred during password reset");break;default:D.oR.error("An error occurred")}window.history.replaceState({},"",window.location.pathname)}},[]),(0,r.useEffect)(()=>{c||(o?(f("dashboard"),X()):f("onboarding"))},[o,c]);let X=async()=>{if(o)try{let e=await T.getDataPacks();I(e);let s=await T.getConnectProfiles();B(s);let t=await T.getDataPackStats();z(t)}catch(e){D.oR.error("Failed to load user data")}},es=u?{name:"".concat(u.first_name," ").concat(u.last_name),email:u.email,currentData:(null==q?void 0:q.used_data_mb)||0,totalData:(null==q?void 0:q.total_data_mb)||0}:o?{name:(null===(e=o.user_metadata)||void 0===e?void 0:e.first_name)&&(null===(s=o.user_metadata)||void 0===s?void 0:s.last_name)?"".concat(o.user_metadata.first_name," ").concat(o.user_metadata.last_name):(null===(t=o.email)||void 0===t?void 0:t.split("@")[0])||"User",email:o.email||"",currentData:0,totalData:0}:{name:"Sign in to continue",email:"",currentData:0,totalData:0},et=R.length>0?R.map(e=>({size:e.name,date:new Date(e.created_at).toLocaleDateString(),used:"".concat(e.used_data_mb,"MB"),status:e.status})):[],ea=(e,s,t)=>{C({type:e,title:s,message:t,isVisible:!0})},er=async()=>{try{await m(),f("onboarding"),I([]),B([]),z(null),D.oR.success("Signed out successfully")}catch(e){D.oR.error("Error signing out")}},ei=()=>{if(!h.isConnected||!h.isOnline){ea("warning","Internet Required","Connect to the internet to download sessions");return}if(!o){ea("warning","Sign In Required","Please sign in to download sessions");return}L(!0)},eo=e=>{L(!1),M(e=>e+1),D.oR.success("Session download started!",{description:"Your internet session is being prepared"})},eu=async()=>{if(!o){ea("warning","Sign In Required","Please sign in to setup KSWiFi Connect");return}try{let e=(await T.getMySessions()).filter(e=>"active"===e.status);if(0===e.length){ea("info","No Active Sessions","Please activate a data pack first, then generate Connect Code");return}let s=e[0];await ex(s.id,s.data_mb)}catch(e){ea("warning","Connect Setup Failed",e.message||"Failed to setup KSWiFi Connect")}},ex=async(e,s)=>{try{let t=D.oR.loading("Generating Connect Code...",{description:"Please wait while we prepare your KSWiFi Connect profile"}),a=await T.generateConnect(e,s);if(D.oR.dismiss(t),a.success)Q(a),G(!0),D.oR.success("Connect Code Generated!",{description:"Scan the QR code to activate your KSWiFi Connect profile"});else throw Error("Connect Code generation failed")}catch(e){D.oR.error("Failed to generate Connect Code",{description:(null==e?void 0:e.message)||"Please try again later"})}},ep=()=>{G(!1),Q(null)},ef=async()=>{if(!o){ea("warning","Sign In Required","Please sign in to activate data packs");return}try{let e=await T.getMySessions(),s=e.filter(e=>e.can_activate),t=e.filter(e=>"active"===e.status);if(t.length>0){let e=t[0];ea("info","Session Already Active","You have an active ".concat(e.data_mb,"MB session. Generate Connect Code to use it for internet access."));return}if(0===s.length){ea("info","No Data Packs Available","Download a session first, then activate it here");return}if(1===s.length){let e=s[0];await T.activateSession(e.id),M(e=>e+1),ea("success","Data Pack Activated!","".concat(e.data_mb,"MB session is now active"))}else ea("info","Multiple Sessions Available","Check 'My Sessions' below to choose which one to activate")}catch(e){ea("warning","Activation Failed",e.message||"Failed to activate data pack")}},ew=async e=>{if(k(!1),!o){ea("warning","Authentication Required","Please sign in first");return}try{await T.createDataPack({bundle_name:e.size,validity_days:30}),ea("success","Data Credits Purchased!","".concat(e.size," credits added to your account")),await X()}catch(e){ea("warning","Purchase Failed",e.message||"Failed to purchase data credits")}},ey=()=>{f("dashboard"),D.oR.success("Welcome ".concat((null==u?void 0:u.first_name)||"back","!"))},ej=()=>(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-md text-center p-8 bg-card border-border",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse-cyan",children:(0,a.jsx)(d.A,{className:"w-10 h-10 text-primary-foreground"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"KSWiFi"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:"KSWiFi Connect - Global Internet Access"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Download internet sessions on WiFi, access globally via KSWiFi Connect"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(i.$,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",size:"lg",onClick:()=>{v("signup"),f("dashboard")},children:"Get Started"}),(0,a.jsx)(i.$,{variant:"outline",className:"w-full border-border text-foreground hover:bg-muted",size:"lg",onClick:()=>{v("signin"),f("dashboard")},children:"Sign In"})]})]})}),ev=()=>(0,a.jsxs)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute top-4 left-4",children:(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{v("signin"),f("onboarding")},className:"text-muted-foreground hover:text-foreground",children:"← Back"})}),"signin"===j&&(0,a.jsx)(en,{onSuccess:ey,onSwitchToSignUp:()=>v("signup"),onForgotPassword:()=>v("reset-password")}),"signup"===j&&(0,a.jsx)(el,{onSuccess:ey,onSwitchToSignIn:()=>v("signin")}),"reset-password"===j&&(0,a.jsx)(ec,{onBack:()=>v("signin")})]}),eN=()=>(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-card shadow-2xl min-h-screen border-x border-border",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-card to-muted text-foreground p-6 rounded-b-lg border-b border-border",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"KSWiFi"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Welcome, ",es.name.split(" ")[0]]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>f("settings"),className:"text-muted-foreground hover:bg-muted/50 hover:text-foreground",children:(0,a.jsx)(eA.A,{className:"w-5 h-5"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:er,className:"text-muted-foreground hover:bg-muted/50 hover:text-foreground",children:(0,a.jsx)(eL.A,{className:"w-5 h-5"})})]})]}),(0,a.jsx)(w,{}),(0,a.jsx)(eg,{})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(l,{currentData:es.currentData,totalData:es.totalData,unit:"GB"})}),(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(y,{icon:_.A,label:"Download Session",description:h.isConnected?"Ready to Download":"Internet Required",onClick:ei}),(0,a.jsx)(y,{icon:Y.A,label:"Activate Data Pack",description:"Use Downloaded",onClick:ef})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(y,{icon:V.A,label:"Setup Connect",description:"Generate Connect Code",onClick:eu,variant:"secondary"})})]}),(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Recent Activity"}),(0,a.jsxs)(i.$,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(eO.A,{className:"w-4 h-4 mr-1"}),"View All"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:et.slice(0,3).map((e,s)=>(0,a.jsx)(b,{...e},s))})]}),(0,a.jsx)("div",{className:"px-6 pb-6",children:(0,a.jsx)(H,{refreshTrigger:$})})]}),O&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-background rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Download Internet Session"}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>L(!1),className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(U,{onSessionDownload:eo})})]})}),N&&(0,a.jsx)(F,{onSelect:ew,onCancel:()=>k(!1)}),S.isVisible&&(0,a.jsx)(A,{type:S.type,title:S.title,message:S.message,isVisible:S.isVisible,onClose:()=>C(e=>({...e,isVisible:!1}))}),(0,a.jsx)(ez,{isOpen:Z,onClose:ep,connectData:J})]}),ek=()=>(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-card shadow-2xl min-h-screen border-x border-border",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary to-kswifi-cyan-dark text-primary-foreground p-6 rounded-b-3xl",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>f("dashboard"),className:"text-primary-foreground hover:bg-black/20",children:"←"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:"Profile"}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsx)("div",{className:"flex items-center justify-between p-3 bg-muted/20 border border-border rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(e$.A,{className:"w-5 h-5 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:es.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:es.email})]})]})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:"Security"}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/20 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(K.A,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("span",{className:"text-foreground",children:"Enhanced Security"})]}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>P(!W),className:"border-border text-foreground hover:bg-muted",children:W?"Enabled":"Enable"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-foreground",children:"Support"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start p-3 text-foreground hover:bg-muted",onClick:()=>f("help"),children:[(0,a.jsx)(eb.A,{className:"w-5 h-5 mr-3 text-primary"}),"Help Center"]}),(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start p-3 text-foreground hover:bg-muted",onClick:()=>f("about"),children:[(0,a.jsx)(eK.A,{className:"w-5 h-5 mr-3 text-primary"}),"About KSWiFi"]})]})]}),(0,a.jsx)("div",{className:"pt-6 border-t border-border",children:(0,a.jsxs)(i.$,{variant:"destructive",className:"w-full bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:er,children:[(0,a.jsx)(eL.A,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]})]})}),eS=()=>(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-card shadow-2xl min-h-screen border-x border-border",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary to-kswifi-cyan-dark text-primary-foreground p-6 rounded-b-3xl",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>f("settings"),className:"text-primary-foreground hover:bg-black/20",children:"←"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Help Center"})]})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(eF,{})})]})}),eC=()=>(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-card shadow-2xl min-h-screen border-x border-border",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary to-kswifi-cyan-dark text-primary-foreground p-6 rounded-b-3xl",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>f("settings"),className:"text-primary-foreground hover:bg-black/20",children:"←"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"About KSWiFi"})]})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(eD,{})})]})});return c?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):o?(0,a.jsx)(eh,{children:(0,a.jsxs)(ed,{fallback:ev(),children:["dashboard"===p&&eN(),"settings"===p&&ek(),"help"===p&&eS(),"about"===p&&eC()]})}):"onboarding"!==p||"signup"===j||"reset-password"===j?ev():ej()}},4332:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>biometricPlugin});class BiometricPluginWrapper{async initializePlugin(){if(this.isInitialized)return this.plugin;try{var _window_Capacitor_isNativePlatform,_window_Capacitor;if(null===(_window_Capacitor=window.Capacitor)||void 0===_window_Capacitor||null===(_window_Capacitor_isNativePlatform=_window_Capacitor.isNativePlatform)||void 0===_window_Capacitor_isNativePlatform||!_window_Capacitor_isNativePlatform.call(_window_Capacitor))return this.isInitialized=!0,null;{let pluginModule=await eval('import("@capawesome/capacitor-native-biometric")');return this.plugin=pluginModule.NativeBiometric,this.isInitialized=!0,this.plugin}}catch(error){return this.isInitialized=!0,null}}async isAvailable(){let e=await this.initializePlugin();return e?e.isAvailable():{isAvailable:!1}}async verifyIdentity(e){let s=await this.initializePlugin();if(!s)throw Error("Biometric authentication not available on this platform");return s.verifyIdentity(e)}async setCredentials(e){let s=await this.initializePlugin();if(!s)throw Error("Biometric credential storage not available on this platform");return s.setCredentials(e)}async getCredentials(e){let s=await this.initializePlugin();if(!s)throw Error("Biometric credential retrieval not available on this platform");return s.getCredentials(e)}async deleteCredentials(e){let s=await this.initializePlugin();if(!s)throw Error("Biometric credential deletion not available on this platform");return s.deleteCredentials(e)}constructor(){this.plugin=null,this.isInitialized=!1}}let biometricPlugin=new BiometricPluginWrapper},6942:(e,s,t)=>{Promise.resolve().then(t.bind(t,3405))}},e=>{var s=s=>e(e.s=s);e.O(0,[96,333,358],()=>s(6942)),_N_E=e.O()}]);