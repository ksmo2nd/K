(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{7527:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(3365),n=r(1521),i=r(7192),a=r(6070),l=r(4428),c=r(8299);function o(){let e=(0,i.useRouter)(),[s,r]=(0,n.useState)(!1),[l,o]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async()=>{try{let s=window.location.hash.substring(1),t=new URLSearchParams(s),n=t.get("access_token"),i=t.get("refresh_token"),a=t.get("type");if("recovery"===a&&n&&i){let{data:s,error:t}=await c.N.auth.setSession({access_token:n,refresh_token:i});t?(console.error("Error setting session:",t),e.push("/?error=invalid_reset_link")):r(!0)}else e.push("/?error=invalid_reset_link")}catch(s){console.error("Password reset error:",s),e.push("/?error=reset_error")}finally{o(!1)}})()},[e]),l)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Verifying reset link..."})]})}):s?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:(0,t.jsx)(a.j,{onSuccess:()=>{e.push("/?message=password_updated")}})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Reset Link"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"This password reset link is invalid or has expired."}),(0,t.jsx)("button",{onClick:()=>e.push("/"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Go Back"})]})})}function d(){return(0,t.jsx)(l.AuthProvider,{children:(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}),children:(0,t.jsx)(o,{})})})}},7625:(e,s,r)=>{Promise.resolve().then(r.bind(r,7527))}},e=>{var s=s=>e(e.s=s);e.O(0,[990,283,70,347,870,358],()=>s(7625)),_N_E=e.O()}]);