(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{7527:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var n=s(3365),t=s(1521),i=s(7192),a=s(6070),c=s(4428),o=s(8299);function d(){let e=(0,i.useRouter)(),[r,s]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{try{let r=window.location.hash.substring(1),n=new URLSearchParams(r),t=n.get("access_token"),i=n.get("refresh_token"),a=n.get("type");if("recovery"===a&&t&&i){let{data:r,error:n}=await o.N.auth.setSession({access_token:t,refresh_token:i});n?(console.error("Error setting session:",n),e.push("/?error=invalid_reset_link")):s(!0)}else e.push("/?error=invalid_reset_link")}catch(r){console.error("Password reset error:",r),e.push("/?error=reset_error")}finally{d(!1)}})()},[e]),c)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Verifying reset link..."})]})}):r?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:(0,n.jsx)(a.j,{onSuccess:()=>{e.push("/?message=password_updated")}})}):(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Invalid Reset Link"}),(0,n.jsx)("p",{className:"text-muted-foreground mb-4",children:"This password reset link is invalid or has expired."}),(0,n.jsx)("button",{onClick:()=>e.push("/"),className:"bg-primary text-primary-foreground px-4 py-2 rounded hover:bg-primary/90",children:"Go Back"})]})})}function l(){return(0,n.jsx)(c.AuthProvider,{children:(0,n.jsx)(t.Suspense,{fallback:(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}),children:(0,n.jsx)(d,{})})})}},7625:(e,r,s)=>{Promise.resolve().then(s.bind(s,7527))}},e=>{var r=r=>e(e.s=r);e.O(0,[990,544,70,347,870,358],()=>r(7625)),_N_E=e.O()}]);