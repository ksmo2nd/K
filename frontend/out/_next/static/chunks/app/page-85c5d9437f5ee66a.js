(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6942:(e,s,t)=>{Promise.resolve().then(t.bind(t,8560))},8560:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>R});var a=t(3365),r=t(1521),i=t(9884),n=t(2934),l=t(4584),c=t(2292);function d(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,c.QP)((0,l.$)(s))}let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function m(e){let{className:s,variant:t,size:r,asChild:n=!1,...l}=e,c=n?i.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:d(o({variant:t,size:r,className:s})),...l})}function u(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:d("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function x(e){let{currentData:s,totalData:t,unit:r}=e,i=s/t*100,n=2*Math.PI*45,l=n-i/100*n;return(0,a.jsxs)("div",{className:"relative w-48 h-48 mx-auto",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-muted opacity-20"}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:n,strokeDashoffset:l,className:"text-primary transition-all duration-1000 ease-out",style:{filter:"drop-shadow(0 0 8px oklch(0.65 0.25 200))"}})]}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-foreground",children:s.toFixed(1)}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["of ",t," ",r]}),(0,a.jsxs)("div",{className:"text-xs text-primary mt-1",children:[i.toFixed(0),"% used"]})]})]})}var h=t(7265),g=t(1181);let f=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function p(e){let{className:s,variant:t,asChild:r=!1,...n}=e,l=r?i.DX:"span";return(0,a.jsx)(l,{"data-slot":"badge",className:d(f({variant:t}),s),...n})}function b(e){let{isConnected:s,networkName:t}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-card border",children:[s?(0,a.jsx)(h.A,{className:"w-5 h-5 text-primary"}):(0,a.jsx)(g.A,{className:"w-5 h-5 text-muted-foreground"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:s?"Connected to WiFi":"No WiFi Connection"}),t&&(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:t})]}),(0,a.jsx)(p,{variant:s?"default":"secondary",children:s?"Online":"Offline"})]})}function v(e){let{icon:s,title:t,description:r,onClick:i,disabled:n=!1,variant:l="default"}=e;return(0,a.jsxs)(m,{onClick:i,disabled:n,variant:l,className:"w-full h-auto p-4 flex flex-col items-center gap-2 text-left",children:[(0,a.jsx)(s,{className:"w-8 h-8"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"font-semibold",children:t}),(0,a.jsx)("div",{className:"text-xs opacity-80",children:r})]})]})}var j=t(940),w=t(2990);function y(e){let{size:s,date:t,used:r,status:i}=e;return(0,a.jsx)(u,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:s}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(w.A,{className:"w-3 h-3"}),t]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Used: ",r]}),(0,a.jsx)("div",{className:"text-xs capitalize ".concat({completed:"text-muted-foreground",active:"text-primary",expired:"text-destructive"}[i]),children:i})]})]})})}var N=t(5842),_=t(447),k=t(2196);function S(e){let{type:s,title:t,message:i,isVisible:n,onClose:l,autoClose:c=!0,duration:d=3e3}=e;return((0,r.useEffect)(()=>{if(n&&c){let e=setTimeout(()=>{l()},d);return()=>clearTimeout(e)}},[n,c,d,l]),n)?(0,a.jsx)("div",{className:"fixed top-4 left-4 right-4 z-50 animate-in slide-in-from-top-2",children:(0,a.jsx)("div",{className:"p-4 rounded-lg border backdrop-blur-sm ".concat((()=>{switch(s){case"success":return"bg-green-900/20 border-green-500/30";case"warning":return"bg-yellow-900/20 border-yellow-500/30";case"info":return"bg-blue-900/20 border-blue-500/30"}})()),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(()=>{switch(s){case"success":return(0,a.jsx)(N.A,{className:"w-5 h-5 text-green-400"});case"warning":return(0,a.jsx)(_.A,{className:"w-5 h-5 text-yellow-400"});case"info":return(0,a.jsx)(h.A,{className:"w-5 h-5 text-blue-400"})}})(),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-foreground",children:t}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:i})]}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:l,className:"h-6 w-6 p-0",children:(0,a.jsx)(k.A,{className:"w-3 h-3"})})]})})}):null}var C=t(1e3),I=t(9491);function A(e){let{onSelect:s,onCancel:t}=e,[i,n]=(0,r.useState)(null);return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-sm bg-background rounded-lg p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Select Data Pack"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Choose how much data to download"})]}),(0,a.jsx)("div",{className:"space-y-3",children:[{size:"1 GB",price:"$2.99"},{size:"5 GB",price:"$9.99",popular:!0},{size:"10 GB",price:"$17.99"}].map(e=>(0,a.jsxs)(u,{className:"p-4 cursor-pointer transition-all relative ".concat((null==i?void 0:i.size)===e.size?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onClick:()=>n(e),children:[e.popular&&(0,a.jsx)("div",{className:"absolute -top-2 left-4 bg-primary text-primary-foreground text-xs px-2 py-1 rounded",children:"Popular"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-foreground",children:e.size}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.price})]}),(null==i?void 0:i.size)===e.size&&(0,a.jsx)(C.A,{className:"w-5 h-5 text-primary"})]})]},e.size))}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(m,{variant:"outline",onClick:t,className:"flex-1 bg-transparent",children:"Cancel"}),(0,a.jsxs)(m,{onClick:()=>i&&s(i),disabled:!i,className:"flex-1",children:[(0,a.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})})}let D=(0,t(7990).UU)("http://localhost:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0");class F{async getCurrentUserId(){let{data:{session:e},error:s}=await D.auth.getSession();if(s)throw s;if(!(null==e?void 0:e.user))throw Error("No user logged in");return e.user.id}async signup(e){var s,t,a;let{data:r,error:i}=await D.auth.signUp({email:e.email,password:e.password,options:{data:{first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number}}});if(i)throw i;if(r.user){let{error:s}=await D.from("users").insert({id:r.user.id,email:e.email,first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number,status:"active",is_admin:!1});if(s)throw s}return{access_token:(null===(s=r.session)||void 0===s?void 0:s.access_token)||"",token_type:"bearer",expires_in:(null===(t=r.session)||void 0===t?void 0:t.expires_in)||3600,user:{id:(null===(a=r.user)||void 0===a?void 0:a.id)||"",email:e.email,first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number,status:"active",is_admin:!1,created_at:new Date().toISOString()}}}async login(e,s){var t,a,r;let{data:i,error:n}=await D.auth.signInWithPassword({email:e,password:s});if(n)throw n;i.user&&await D.from("users").update({last_login:new Date().toISOString()}).eq("id",i.user.id);let{data:l,error:c}=await D.from("users").select("*").eq("id",null===(t=i.user)||void 0===t?void 0:t.id).single();if(c)throw c;return{access_token:(null===(a=i.session)||void 0===a?void 0:a.access_token)||"",token_type:"bearer",expires_in:(null===(r=i.session)||void 0===r?void 0:r.expires_in)||3600,user:l}}async logout(){let{error:e}=await D.auth.signOut();if(e)throw e}async getCurrentUser(){let{data:{session:e},error:s}=await D.auth.getSession();if(s)throw s;if(!(null==e?void 0:e.user))throw Error("No user logged in");let{data:t,error:a}=await D.from("users").select("*").eq("id",e.user.id).single();if(a)throw a;return t}async refreshToken(){var e,s,t;let{data:a,error:r}=await D.auth.refreshSession();if(r)throw r;let{data:i,error:n}=await D.from("users").select("*").eq("id",null===(e=a.user)||void 0===e?void 0:e.id).single();if(n)throw n;return{access_token:(null===(s=a.session)||void 0===s?void 0:s.access_token)||"",token_type:"bearer",expires_in:(null===(t=a.session)||void 0===t?void 0:t.expires_in)||3600,user:i}}async getDataPacks(e){let s=await this.getCurrentUserId(),t=D.from("data_packs").select("*").eq("user_id",s);e&&(t=t.eq("status",e));let{data:a,error:r}=await t;if(r)throw r;return a}async createDataPack(e){let s=await this.getCurrentUserId(),{data:t,error:a}=await D.from("data_packs").insert({user_id:s,...e,used_data_mb:0,remaining_data_mb:e.total_data_mb,status:"active",currency:e.currency||"USD"}).select().single();if(a)throw a;return t}async recordDataUsage(e,s){let t=await this.getCurrentUserId(),{data:a,error:r}=await D.from("data_packs").select("*").eq("id",e).eq("user_id",t).single();if(r)throw r;let i=(a.used_data_mb||0)+s.data_used_mb,n=a.total_data_mb-i,l=n<=0?"exhausted":a.status,{error:c}=await D.from("data_packs").update({used_data_mb:i,remaining_data_mb:Math.max(0,n),status:l}).eq("id",e).eq("user_id",t);if(c)throw c;return await D.from("usage_logs").insert({user_id:t,data_pack_id:e,data_used_mb:s.data_used_mb,session_duration:s.session_duration,location:s.location,device_info:s.device_info}),{detail:"Usage recorded successfully",remaining_data_mb:Math.max(0,n),status:l}}async getDataPackStats(){let e=await this.getCurrentUserId(),{data:s,error:t}=await D.from("data_packs").select("*").eq("user_id",e);if(t)throw t;return s.reduce((e,s)=>({total_packs:e.total_packs+1,active_packs:e.active_packs+ +("active"===s.status),total_data_mb:e.total_data_mb+s.total_data_mb,used_data_mb:e.used_data_mb+(s.used_data_mb||0),remaining_data_mb:e.remaining_data_mb+s.remaining_data_mb,total_spent:e.total_spent+s.price}),{total_packs:0,active_packs:0,total_data_mb:0,used_data_mb:0,remaining_data_mb:0,total_spent:0})}async getESIMs(){let e=await this.getCurrentUserId(),{data:s,error:t}=await D.from("esims").select("*").eq("user_id",e);if(t)throw t;return s}async createESIM(e){let s=await this.getCurrentUserId(),t="8901240".concat(Math.random().toString().substring(2,15)),a="901240".concat(Math.random().toString().substring(2,15)),r="LPA:1$sm-dp.kswifi.com$".concat(Math.random().toString(36).substring(2,10)),{data:i,error:n}=await D.from("esims").insert({user_id:s,iccid:t,imsi:a,status:"pending",apn:e.apn||"internet",username:e.username,password:e.password,activation_code:Math.random().toString(36).substring(2,10),qr_code_data:r}).select().single();if(n)throw n;return i}async getESIMQRCode(e){let s=await this.getCurrentUserId(),{data:t,error:a}=await D.from("esims").select("*").eq("id",e).eq("user_id",s).single();if(a)throw a;return{qr_code_data:t.qr_code_data,qr_code_image:"data:image/svg+xml;base64,".concat(btoa('<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><rect width="200" height="200" fill="white"/><text x="100" y="100" text-anchor="middle" font-family="monospace" font-size="8">QR Code: '.concat(t.activation_code,"</text></svg>"))),activation_code:t.activation_code,manual_config:{activation_code:t.activation_code,sm_dp_address:"sm-dp.kswifi.com",apn:t.apn,username:t.username,password:t.password,instructions:["Open Phone Settings","Go to Cellular/Mobile Data","Add eSIM","Scan QR Code or enter details manually","Follow the on-screen instructions"]}}}async activateESIM(e){let s=await this.getCurrentUserId(),{data:t,error:a}=await D.from("esims").update({status:"active",activated_at:new Date().toISOString()}).eq("id",e).eq("user_id",s).select().single();if(a)throw a;return t}async suspendESIM(e){let s=await this.getCurrentUserId(),{error:t}=await D.from("esims").update({status:"suspended"}).eq("id",e).eq("user_id",s);if(t)throw t;return{detail:"eSIM suspended successfully"}}async healthCheck(){try{let{data:e,error:s}=await D.from("users").select("id").limit(1);if(s)throw s;return{status:"healthy",service:"KSWiFi App (Supabase)"}}catch(e){return{status:"unhealthy",service:"KSWiFi App (Supabase)"}}}}let z=new F;var q=t(2259),W=t(231),P=t(2393),E=t(7931),M=t(3697),U=t(1647),O=t(1360),G=t(8416),B=t(6712);function R(){let[e,s]=(0,r.useState)("onboarding"),[t,i]=(0,r.useState)(!1),[n,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[o,h]=(0,r.useState)(!1),[g,f]=(0,r.useState)({type:"info",title:"",message:"",isVisible:!1}),[p,j]=(0,r.useState)(!1);(0,r.useEffect)(()=>{w()},[]);let w=async()=>{if(localStorage.getItem("access_token"))try{let e=await z.getCurrentUser();d(e),i(!0),s("dashboard")}catch(e){localStorage.removeItem("access_token"),s("onboarding")}},N=c?{name:"".concat(c.first_name," ").concat(c.last_name),email:c.email,currentData:0,totalData:0,isWifiConnected:!0,networkName:"CoffeeShop_WiFi"}:{name:"Guest User",email:"",currentData:0,totalData:0,isWifiConnected:!0,networkName:"CoffeeShop_WiFi"},_=(e,s,t)=>{f({type:e,title:s,message:t,isVisible:!0})},k=async(e,t)=>{l(!0);try{let a=await z.login(e,t);d(a.user),i(!0),s("dashboard"),_("success","Welcome Back!","Signed in as ".concat(a.user.first_name))}catch(e){_("warning","Sign In Failed",e.message||"Please check your credentials")}finally{l(!1)}},C=async e=>{l(!0);try{let t=await z.signup(e);d(t.user),i(!0),s("dashboard"),_("success","Account Created!","Welcome ".concat(t.user.first_name,"!"))}catch(e){_("warning","Sign Up Failed",e.message||"Please try again")}finally{l(!1)}},D=async()=>{try{await z.logout()}catch(e){console.error("Logout error:",e)}finally{d(null),i(!1),s("onboarding"),localStorage.removeItem("access_token"),_("info","Signed Out","Come back soon!")}},F=async e=>{if(h(!1),!t||!c){_("warning","Sign In Required","Please sign in to purchase data packs");return}l(!0);try{let s=parseFloat(e.size.replace(/[^\d.]/g,""));await z.createDataPack({name:"".concat(e.size," Data Pack"),total_data_mb:1024*s,price:parseFloat(e.price.replace(/[^\d.]/g,"")),expires_at:new Date(Date.now()+2592e6).toISOString()}),_("success","Download Started","Downloading ".concat(e.size," data pack..."));let t=await z.getCurrentUser();d(t),setTimeout(()=>{_("success","Download Complete","".concat(e.size," data pack ready to activate"))},3e3)}catch(e){_("warning","Purchase Failed",e.message||"Please try again")}finally{l(!1)}},[R,V]=(0,r.useState)({email:"",password:""}),[J,K]=(0,r.useState)({email:"",password:"",first_name:"",last_name:"",phone_number:""});return(0,a.jsxs)("div",{className:"relative",children:["onboarding"===e&&(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 flex items-center justify-center p-4",children:(0,a.jsxs)(u,{className:"w-full max-w-md p-8 text-center",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(q.A,{className:"w-10 h-10 text-blue-600"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to KSWiFi"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Download data packs on WiFi, activate anywhere with eSIM"})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-left",children:[(0,a.jsx)(I.A,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Download data packs over WiFi"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-left",children:[(0,a.jsx)(W.A,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Get instant eSIM activation codes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-left",children:[(0,a.jsx)(P.A,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Secure, encrypted data management"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(m,{onClick:()=>s("signup"),className:"w-full bg-blue-600 hover:bg-blue-700",disabled:n,children:"Get Started"}),(0,a.jsx)(m,{variant:"outline",onClick:()=>s("signin"),className:"w-full",disabled:n,children:"I Already Have an Account"})]})]})}),"signin"===e&&(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 flex items-center justify-center p-4",children:(0,a.jsxs)(u,{className:"w-full max-w-md p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(E.A,{className:"w-8 h-8 text-blue-600"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Sign in to your KSWiFi account"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),k(R.email,R.password)},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:R.email,onChange:e=>V({...R,email:e.target.value}),placeholder:"Enter your email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,a.jsx)("input",{type:"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:R.password,onChange:e=>V({...R,password:e.target.value}),placeholder:"Enter your password"})]}),(0,a.jsx)(m,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:n,children:n?"Signing In...":"Sign In"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{onClick:()=>s("signup"),className:"text-blue-600 hover:text-blue-800 text-sm",disabled:n,children:"Don't have an account? Sign Up"})}),(0,a.jsx)("div",{className:"mt-2 text-center",children:(0,a.jsx)("button",{onClick:()=>s("onboarding"),className:"text-gray-500 hover:text-gray-700 text-sm",disabled:n,children:"← Back"})})]})}),"signup"===e&&(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 flex items-center justify-center p-4",children:(0,a.jsxs)(u,{className:"w-full max-w-md p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(E.A,{className:"w-8 h-8 text-blue-600"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create Account"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Join KSWiFi to get started"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),C(J)},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:J.first_name,onChange:e=>K({...J,first_name:e.target.value}),placeholder:"First name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:J.last_name,onChange:e=>K({...J,last_name:e.target.value}),placeholder:"Last name"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:J.email,onChange:e=>K({...J,email:e.target.value}),placeholder:"Enter your email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone (Optional)"}),(0,a.jsx)("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:J.phone_number,onChange:e=>K({...J,phone_number:e.target.value}),placeholder:"Phone number"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,a.jsx)("input",{type:"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:J.password,onChange:e=>K({...J,password:e.target.value}),placeholder:"Create a password"})]}),(0,a.jsx)(m,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:n,children:n?"Creating Account...":"Create Account"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{onClick:()=>s("signin"),className:"text-blue-600 hover:text-blue-800 text-sm",disabled:n,children:"Already have an account? Sign In"})}),(0,a.jsx)("div",{className:"mt-2 text-center",children:(0,a.jsx)("button",{onClick:()=>s("onboarding"),className:"text-gray-500 hover:text-gray-700 text-sm",disabled:n,children:"← Back"})})]})}),"dashboard"===e&&(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(q.A,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"KSWiFi"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Welcome, ",N.name]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>s("settings"),children:(0,a.jsx)(M.A,{className:"w-4 h-4"})}),(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:D,children:(0,a.jsx)(U.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsxs)("div",{className:"p-4 space-y-6",children:[(0,a.jsx)(x,{currentData:N.currentData,totalData:N.totalData,unit:"GB"}),(0,a.jsx)(b,{isConnected:N.isWifiConnected,networkName:N.networkName}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(v,{icon:I.A,title:"Download Data",description:"Get data packs",onClick:()=>{if(!N.isWifiConnected){_("warning","WiFi Required","Connect to WiFi to download packs");return}if(!t){_("warning","Sign In Required","Please sign in to purchase data packs"),s("signin");return}h(!0)},disabled:n}),(0,a.jsx)(v,{icon:W.A,title:"eSIM Setup",description:"QR & manual setup",onClick:()=>_("info","eSIM Setup","Feature available after data pack purchase")})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(O.A,{className:"w-5 h-5 mr-2"}),"Recent Activity"]}),(0,a.jsx)("div",{className:"space-y-3",children:[{size:"No data packs",date:"Sign in to view",used:"0 GB",status:"completed"}].map((e,s)=>(0,a.jsx)(y,{...e},s))})]})]}),o&&(0,a.jsx)(A,{onCancel:()=>h(!1),onSelect:F})]}),"settings"===e&&(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 p-4",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>s("dashboard"),children:"←"}),(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Settings"})]})})}),(0,a.jsxs)("div",{className:"p-4 space-y-6",children:[(0,a.jsxs)(u,{className:"p-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,a.jsx)(E.A,{className:"w-5 h-5 mr-2"}),"Account Information"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Name:"}),(0,a.jsx)("span",{className:"text-gray-900",children:N.name})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,a.jsx)("span",{className:"text-gray-900",children:N.email})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Total Data:"}),(0,a.jsxs)("span",{className:"text-gray-900",children:[N.totalData," GB"]})]})]})]}),(0,a.jsxs)(u,{className:"p-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,a.jsx)(P.A,{className:"w-5 h-5 mr-2"}),"Security & Privacy"]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Enhanced Security"}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Additional protection for your account"})]}),(0,a.jsx)(m,{variant:p?"default":"outline",size:"sm",onClick:()=>{j(!p),_("success",p?"Security Disabled":"Security Enabled",p?"Enhanced security has been turned off":"Your account now has enhanced security protection")},children:p?"Enabled":"Enable"})]})})]}),(0,a.jsxs)(u,{className:"p-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,a.jsx)(G.A,{className:"w-5 h-5 mr-2"}),"Help & Support"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>_("info","Help Center","Visit our help center for guides and FAQs"),className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Help Center"}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Guides, FAQs, and tutorials"})]}),(0,a.jsxs)("button",{onClick:()=>_("info","Contact Support","Our support team will respond within 24 hours"),className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Contact Support"}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Get help from our team"})]})]})]}),(0,a.jsxs)(u,{className:"p-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,a.jsx)(B.A,{className:"w-5 h-5 mr-2"}),"About KSWiFi"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsx)("div",{children:"Version 1.0.0"}),(0,a.jsx)("div",{children:"\xa9 2024 KSWiFi. All rights reserved."}),(0,a.jsx)("div",{children:"Virtual eSIM data management platform"})]})]}),(0,a.jsxs)(m,{variant:"outline",onClick:D,className:"w-full text-red-600 border-red-300 hover:bg-red-50",disabled:n,children:[(0,a.jsx)(U.A,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]}),(0,a.jsx)(S,{type:g.type,title:g.title,message:g.message,isVisible:g.isVisible,onClose:()=>f(e=>({...e,isVisible:!1}))})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[694,347,870,358],()=>s(6942)),_N_E=e.O()}]);